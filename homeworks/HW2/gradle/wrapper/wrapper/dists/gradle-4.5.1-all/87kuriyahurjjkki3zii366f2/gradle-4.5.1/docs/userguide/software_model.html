<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Rule based model configuration - Gradle User Manual</title><link xmlns:xslthl="http://xslthl.sf.net" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400i,700"><link xmlns:xslthl="http://xslthl.sf.net" crossorigin="crossorigin" href="//assets.gradle.com" rel="preconnect"><meta xmlns:xslthl="http://xslthl.sf.net" content="width=device-width, initial-scale=1" name="viewport"><link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="base.css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="userguide.html" title="Gradle User Manual"><link rel="up" href="pt07.html" title="The Software model"></head><body><header xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPHeader" itemscope="itemscope" class="site-layout__header site-header"><nav itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope" class="site-header__navigation"><div class="site-header__navigation-header"><a title="Gradle Docs" href="https://docs.gradle.org" class="logo" target="_top"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 191 43" height="36px" width="160px"><g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none"><g><path fill="#02303A" id="Fill-9" d="M46.678556,7.70171633 C45.120512,4.8834998 42.335823,4.04123121 40.3684979,4.00130115 C37.9547479,3.9523229 35.9723457,5.29706115 36.3472787,6.1798499 C36.427757,6.36937016 36.8802727,7.35867186 37.1580527,7.76702066 C37.5601446,8.35790689 38.2799562,7.90392373 38.5320749,7.76908601 C39.2849364,7.36653985 40.0895198,7.23622623 41.0021397,7.34323092 C41.8745205,7.44551482 43.033468,7.9864393 43.8109923,9.4893242 C45.6407254,13.0263802 39.9923667,20.3060435 32.9221581,15.2649224 C25.8518496,10.2238013 18.9763466,11.8941761 15.8634538,12.9102289 C12.7506609,13.9260851 11.3198246,14.9477439 12.5498645,17.3104037 C14.2214368,20.5211347 13.6673747,19.5359637 15.2882237,22.1937715 C17.8627305,26.4150478 23.4981089,20.2511642 23.4981089,20.2511642 C19.3000571,26.4766148 15.7013989,24.9724514 14.3210861,22.7961647 C13.0771672,20.8346742 12.1106287,18.5733148 12.1106287,18.5733148 C1.47790725,22.3458205 4.35465711,39 4.35465711,39 L9.63497235,39 C10.9812366,32.8678834 15.794558,33.0939899 16.6195105,39 L20.6486178,39 C24.2119295,27.0258991 33.2432725,39 33.2432725,39 L38.4954303,39 C37.0244547,30.8318437 41.4498627,28.2655996 44.2387454,23.4777295 C47.0279277,18.6894661 49.6699325,12.8318441 46.678556,7.70171633 L46.678556,7.70171633 Z M33.1312419,23.4719269 C30.3544409,22.5602233 31.347639,19.7803632 31.347639,19.7803632 C31.347639,19.7803632 33.772672,20.5692278 37.0530115,21.6459626 C36.864197,22.5081962 35.2324645,24.1619498 33.1312419,23.4719269 L33.1312419,23.4719269 Z"/><path fill="#00303A" id="Fill-10" d="M35.9919757,21.336932 C36.0769161,22.1603228 35.477836,22.9008903 34.6537814,22.990975 C33.8297268,23.0810597 33.0929635,22.486564 33.0080231,21.663068 C32.9230827,20.8396772 33.5222651,20.0991097 34.3462175,20.009025 C35.1702721,19.9189403 35.9071376,20.513436 35.9919757,21.336932"/><path fill="#02303A" d="M72.236,22.3 L72.236,29.32 C71.3559956,29.9680032 70.418005,30.4419985 69.422,30.742 C68.425995,31.0420015 67.3600057,31.192 66.224,31.192 C64.8079929,31.192 63.5260057,30.9720022 62.378,30.532 C61.2299943,30.0919978 60.2500041,29.4800039 59.438,28.696 C58.6259959,27.9119961 58.0000022,26.9760054 57.56,25.888 C57.1199978,24.7999946 56.9,23.6120064 56.9,22.324 C56.9,21.0199935 57.1119979,19.8240054 57.536,18.736 C57.9600021,17.6479946 58.5619961,16.7120039 59.342,15.928 C60.1220039,15.1439961 61.0679944,14.5360022 62.18,14.104 C63.2920056,13.6719978 64.5399931,13.456 65.924,13.456 C66.6280035,13.456 67.2859969,13.5119994 67.898,13.624 C68.5100031,13.7360006 69.0779974,13.889999 69.602,14.086 C70.1260026,14.282001 70.6039978,14.5199986 71.036,14.8 C71.4680022,15.0800014 71.8639982,15.3879983 72.224,15.724 L71.3,17.188 C71.1559993,17.4200012 70.9680012,17.5619997 70.736,17.614 C70.5039988,17.6660003 70.2520014,17.6080008 69.98,17.44 L69.188,16.984 C68.9239987,16.8319992 68.6300016,16.7000006 68.306,16.588 C67.9819984,16.4759994 67.618002,16.3840004 67.214,16.312 C66.809998,16.2399996 66.3440026,16.204 65.816,16.204 C64.9599957,16.204 64.1860035,16.3479986 63.494,16.636 C62.8019965,16.9240014 62.2120024,17.3359973 61.724,17.872 C61.2359976,18.4080027 60.8600013,19.0519962 60.596,19.804 C60.3319987,20.5560038 60.2,21.3959954 60.2,22.324 C60.2,23.316005 60.3419986,24.2019961 60.626,24.982 C60.9100014,25.7620039 61.3099974,26.4219973 61.826,26.962 C62.3420026,27.5020027 62.9639964,27.9139986 63.692,28.198 C64.4200036,28.4820014 65.2319955,28.624 66.128,28.624 C66.7680032,28.624 67.3399975,28.5560007 67.844,28.42 C68.3480025,28.2839993 68.8399976,28.1000012 69.32,27.868 L69.32,24.724 L67.136,24.724 C66.927999,24.724 66.7660006,24.6660006 66.65,24.55 C66.5339994,24.4339994 66.476,24.2920008 66.476,24.124 L66.476,22.3 L72.236,22.3 Z M77.504,20.824 C77.8880019,20.0879963 78.3439974,19.5100021 78.872,19.09 C79.4000026,18.6699979 80.0239964,18.46 80.744,18.46 C81.3120028,18.46 81.7679983,18.5839988 82.112,18.832 L81.92,21.052 C81.8799998,21.1960007 81.8220004,21.2979997 81.746,21.358 C81.6699996,21.4180003 81.5680006,21.448 81.44,21.448 C81.3199994,21.448 81.1420012,21.4280002 80.906,21.388 C80.6699988,21.3479998 80.4400011,21.328 80.216,21.328 C79.8879984,21.328 79.5960013,21.3759995 79.34,21.472 C79.0839987,21.5680005 78.854001,21.7059991 78.65,21.886 C78.445999,22.0660009 78.2660008,22.2839987 78.11,22.54 C77.9539992,22.7960013 77.8080007,23.0879984 77.672,23.416 L77.672,31 L74.708,31 L74.708,18.688 L76.448,18.688 C76.7520015,18.688 76.9639994,18.7419995 77.084,18.85 C77.2040006,18.9580005 77.2839998,19.1519986 77.324,19.432 L77.504,20.824 Z M90.008,25.744 C89.1519957,25.7840002 88.4320029,25.8579995 87.848,25.966 C87.2639971,26.0740005 86.7960018,26.2119992 86.444,26.38 C86.0919982,26.5480008 85.8400008,26.7439989 85.688,26.968 C85.5359992,27.1920011 85.46,27.4359987 85.46,27.7 C85.46,28.2200026 85.6139985,28.5919989 85.922,28.816 C86.2300015,29.0400011 86.6319975,29.152 87.128,29.152 C87.736003,29.152 88.2619978,29.0420011 88.706,28.822 C89.1500022,28.6019989 89.5839979,28.2680022 90.008,27.82 L90.008,25.744 Z M83.216,20.404 C84.6320071,19.1079935 86.33599,18.46 88.328,18.46 C89.0480036,18.46 89.6919972,18.5779988 90.26,18.814 C90.8280028,19.0500012 91.307998,19.3779979 91.7,19.798 C92.092002,20.2180021 92.389999,20.7199971 92.594,21.304 C92.798001,21.8880029 92.9,22.5279965 92.9,23.224 L92.9,31 L91.556,31 C91.2759986,31 91.0600008,30.9580004 90.908,30.874 C90.7559992,30.7899996 90.6360004,30.6200013 90.548,30.364 L90.284,29.476 C89.9719984,29.7560014 89.6680015,30.0019989 89.372,30.214 C89.0759985,30.4260011 88.7680016,30.6039993 88.448,30.748 C88.1279984,30.8920007 87.7860018,31.0019996 87.422,31.078 C87.0579982,31.1540004 86.6560022,31.192 86.216,31.192 C85.6959974,31.192 85.2160022,31.1220007 84.776,30.982 C84.3359978,30.8419993 83.9560016,30.6320014 83.636,30.352 C83.3159984,30.0719986 83.0680009,29.7240021 82.892,29.308 C82.7159991,28.8919979 82.628,28.4080028 82.628,27.856 C82.628,27.5439984 82.6799995,27.2340015 82.784,26.926 C82.8880005,26.6179985 83.0579988,26.3240014 83.294,26.044 C83.5300012,25.7639986 83.8359981,25.5000012 84.212,25.252 C84.5880019,25.0039988 85.0499973,24.7880009 85.598,24.604 C86.1460027,24.4199991 86.7839964,24.2700006 87.512,24.154 C88.2400036,24.0379994 89.0719953,23.9680001 90.008,23.944 L90.008,23.224 C90.008,22.3999959 89.8320018,21.790002 89.48,21.394 C89.1279982,20.997998 88.6200033,20.8 87.956,20.8 C87.4759976,20.8 87.0780016,20.8559994 86.762,20.968 C86.4459984,21.0800006 86.1680012,21.2059993 85.928,21.346 C85.6879988,21.4860007 85.470001,21.6119994 85.274,21.724 C85.077999,21.8360006 84.8600012,21.892 84.62,21.892 C84.411999,21.892 84.2360007,21.8380005 84.092,21.73 C83.9479993,21.6219995 83.8320004,21.4960007 83.744,21.352 L83.216,20.404 Z M103.412,21.832 C103.075998,21.423998 102.710002,21.1360008 102.314,20.968 C101.917998,20.7999992 101.492002,20.716 101.036,20.716 C100.587998,20.716 100.184002,20.7999992 99.824,20.968 C99.4639982,21.1360008 99.1560013,21.3899983 98.9,21.73 C98.6439987,22.0700017 98.4480007,22.5019974 98.312,23.026 C98.1759993,23.5500026 98.108,24.1679964 98.108,24.88 C98.108,25.6000036 98.1659994,26.2099975 98.282,26.71 C98.3980006,27.2100025 98.5639989,27.6179984 98.78,27.934 C98.9960011,28.2500016 99.2599984,28.4779993 99.572,28.618 C99.8840016,28.7580007 100.231998,28.828 100.616,28.828 C101.232003,28.828 101.755998,28.7000013 102.188,28.444 C102.620002,28.1879987 103.027998,27.8240024 103.412,27.352 L103.412,21.832 Z M106.376,13.168 L106.376,31 L104.564,31 C104.171998,31 103.924001,30.8200018 103.82,30.46 L103.568,29.272 C103.071998,29.8400028 102.502003,30.2999982 101.858,30.652 C101.213997,31.0040018 100.464004,31.18 99.608,31.18 C98.9359966,31.18 98.3200028,31.0400014 97.76,30.76 C97.1999972,30.4799986 96.718002,30.0740027 96.314,29.542 C95.909998,29.0099973 95.5980011,28.3520039 95.378,27.568 C95.1579989,26.7839961 95.048,25.888005 95.048,24.88 C95.048,23.9679954 95.1719988,23.1200039 95.42,22.336 C95.6680012,21.5519961 96.0239977,20.8720029 96.488,20.296 C96.9520023,19.7199971 97.5079968,19.2700016 98.156,18.946 C98.8040032,18.6219984 99.531996,18.46 100.34,18.46 C101.028003,18.46 101.615998,18.5679989 102.104,18.784 C102.592002,19.0000011 103.027998,19.2919982 103.412,19.66 L103.412,13.168 L106.376,13.168 Z M112.304,13.168 L112.304,31 L109.34,31 L109.34,13.168 L112.304,13.168 Z M123.2,23.428 C123.2,23.0439981 123.146001,22.6820017 123.038,22.342 C122.929999,22.0019983 122.768001,21.7040013 122.552,21.448 C122.335999,21.1919987 122.062002,20.9900007 121.73,20.842 C121.397998,20.6939993 121.012002,20.62 120.572,20.62 C119.715996,20.62 119.042002,20.8639976 118.55,21.352 C118.057998,21.8400024 117.744001,22.5319955 117.608,23.428 L123.2,23.428 Z M117.548,25.216 C117.596,25.8480032 117.707999,26.3939977 117.884,26.854 C118.060001,27.3140023 118.291999,27.6939985 118.58,27.994 C118.868001,28.2940015 119.209998,28.5179993 119.606,28.666 C120.002002,28.8140007 120.439998,28.888 120.92,28.888 C121.400002,28.888 121.813998,28.8320006 122.162,28.72 C122.510002,28.6079994 122.813999,28.4840007 123.074,28.348 C123.334001,28.2119993 123.561999,28.0880006 123.758,27.976 C123.954001,27.8639994 124.143999,27.808 124.328,27.808 C124.576001,27.808 124.759999,27.8999991 124.88,28.084 L125.732,29.164 C125.403998,29.5480019 125.036002,29.8699987 124.628,30.13 C124.219998,30.3900013 123.794002,30.5979992 123.35,30.754 C122.905998,30.9100008 122.454002,31.0199997 121.994,31.084 C121.533998,31.1480003 121.088002,31.18 120.656,31.18 C119.799996,31.18 119.004004,31.0380014 118.268,30.754 C117.531996,30.4699986 116.892003,30.0500028 116.348,29.494 C115.803997,28.9379972 115.376002,28.2500041 115.064,27.43 C114.751998,26.6099959 114.596,25.6600054 114.596,24.58 C114.596,23.7399958 114.731999,22.9500037 115.004,22.21 C115.276001,21.4699963 115.665997,20.8260027 116.174,20.278 C116.682003,19.7299973 117.301996,19.2960016 118.034,18.976 C118.766004,18.6559984 119.591995,18.496 120.512,18.496 C121.288004,18.496 122.003997,18.6199988 122.66,18.868 C123.316003,19.1160012 123.879998,19.4779976 124.352,19.954 C124.824002,20.4300024 125.193999,21.0139965 125.462,21.706 C125.730001,22.3980035 125.864,23.1879956 125.864,24.076 C125.864,24.5240022 125.816,24.8259992 125.72,24.982 C125.624,25.1380008 125.440001,25.216 125.168,25.216 L117.548,25.216 Z M149.576,22.504 C149.576,23.8160066 149.380002,24.9959948 148.988,26.044 C148.595998,27.0920052 148.044004,27.9839963 147.332,28.72 C146.619996,29.4560037 145.766005,30.019998 144.77,30.412 C143.773995,30.804002 142.676006,31 141.476,31 L135.272,31 L135.272,14.02 L141.476,14.02 C142.676006,14.02 143.773995,14.215998 144.77,14.608 C145.766005,15.000002 146.619996,15.5639963 147.332,16.3 C148.044004,17.0360037 148.595998,17.9279948 148.988,18.976 C149.380002,20.0240052 149.576,21.1999935 149.576,22.504 Z M148.304,22.504 C148.304,21.3199941 148.140002,20.2640046 147.812,19.336 C147.483998,18.4079954 147.020003,17.6240032 146.42,16.984 C145.819997,16.3439968 145.100004,15.8560017 144.26,15.52 C143.419996,15.1839983 142.492005,15.016 141.476,15.016 L136.508,15.016 L136.508,30.004 L141.476,30.004 C142.492005,30.004 143.419996,29.8360017 144.26,29.5 C145.100004,29.1639983 145.819997,28.6760032 146.42,28.036 C147.020003,27.3959968 147.483998,26.6120046 147.812,25.684 C148.140002,24.7559954 148.304,23.696006 148.304,22.504 Z M157.52,18.868 C158.376004,18.868 159.141997,19.0139985 159.818,19.306 C160.494003,19.5980015 161.063998,20.0119973 161.528,20.548 C161.992002,21.0840027 162.345999,21.7299962 162.59,22.486 C162.834001,23.2420038 162.956,24.0879953 162.956,25.024 C162.956,25.9600047 162.834001,26.8039962 162.59,27.556 C162.345999,28.3080038 161.992002,28.9519973 161.528,29.488 C161.063998,30.0240027 160.494003,30.4359986 159.818,30.724 C159.141997,31.0120014 158.376004,31.156 157.52,31.156 C156.663996,31.156 155.898003,31.0120014 155.222,30.724 C154.545997,30.4359986 153.974002,30.0240027 153.506,29.488 C153.037998,28.9519973 152.682001,28.3080038 152.438,27.556 C152.193999,26.8039962 152.072,25.9600047 152.072,25.024 C152.072,24.0879953 152.193999,23.2420038 152.438,22.486 C152.682001,21.7299962 153.037998,21.0840027 153.506,20.548 C153.974002,20.0119973 154.545997,19.5980015 155.222,19.306 C155.898003,19.0139985 156.663996,18.868 157.52,18.868 Z M157.52,30.256 C158.232004,30.256 158.853997,30.1340012 159.386,29.89 C159.918003,29.6459988 160.361998,29.2960023 160.718,28.84 C161.074002,28.3839977 161.339999,27.8340032 161.516,27.19 C161.692001,26.5459968 161.78,25.824004 161.78,25.024 C161.78,24.231996 161.692001,23.5120032 161.516,22.864 C161.339999,22.2159968 161.074002,21.6620023 160.718,21.202 C160.361998,20.7419977 159.918003,20.3880012 159.386,20.14 C158.853997,19.8919988 158.232004,19.768 157.52,19.768 C156.807996,19.768 156.186003,19.8919988 155.654,20.14 C155.121997,20.3880012 154.678002,20.7419977 154.322,21.202 C153.965998,21.6620023 153.698001,22.2159968 153.518,22.864 C153.337999,23.5120032 153.248,24.231996 153.248,25.024 C153.248,25.824004 153.337999,26.5459968 153.518,27.19 C153.698001,27.8340032 153.965998,28.3839977 154.322,28.84 C154.678002,29.2960023 155.121997,29.6459988 155.654,29.89 C156.186003,30.1340012 156.807996,30.256 157.52,30.256 Z M174.212,20.656 C174.172,20.6960002 174.134,20.7299999 174.098,20.758 C174.062,20.7860001 174.012,20.8 173.948,20.8 C173.868,20.8 173.760001,20.7460005 173.624,20.638 C173.487999,20.5299995 173.304001,20.4120006 173.072,20.284 C172.839999,20.1559994 172.550002,20.0380005 172.202,19.93 C171.853998,19.8219995 171.432002,19.768 170.936,19.768 C170.247997,19.768 169.638003,19.8899988 169.106,20.134 C168.573997,20.3780012 168.124002,20.7279977 167.756,21.184 C167.387998,21.6400023 167.110001,22.1919968 166.922,22.84 C166.733999,23.4880032 166.64,24.215996 166.64,25.024 C166.64,25.8640042 166.737999,26.6079968 166.934,27.256 C167.130001,27.9040032 167.407998,28.4499978 167.768,28.894 C168.128002,29.3380022 168.563997,29.6759988 169.076,29.908 C169.588003,30.1400012 170.155997,30.256 170.78,30.256 C171.356003,30.256 171.837998,30.1880007 172.226,30.052 C172.614002,29.9159993 172.933999,29.7680008 173.186,29.608 C173.438001,29.4479992 173.635999,29.3000007 173.78,29.164 C173.924001,29.0279993 174.044,28.96 174.14,28.96 C174.236,28.96 174.316,28.9999996 174.38,29.08 L174.68,29.464 C174.495999,29.7040012 174.264001,29.927999 173.984,30.136 C173.703999,30.344001 173.388002,30.5239992 173.036,30.676 C172.683998,30.8280008 172.302002,30.9459996 171.89,31.03 C171.477998,31.1140004 171.048002,31.156 170.6,31.156 C169.839996,31.156 169.146003,31.0180014 168.518,30.742 C167.889997,30.4659986 167.350002,30.0660026 166.898,29.542 C166.445998,29.0179974 166.094001,28.3760038 165.842,27.616 C165.589999,26.8559962 165.464,25.9920048 165.464,25.024 C165.464,24.1119954 165.583999,23.2800038 165.824,22.528 C166.064001,21.7759962 166.415998,21.1280027 166.88,20.584 C167.344002,20.0399973 167.909997,19.6180015 168.578,19.318 C169.246003,19.0179985 170.011996,18.868 170.876,18.868 C171.652004,18.868 172.339997,18.9919988 172.94,19.24 C173.540003,19.4880012 174.063998,19.8239979 174.512,20.248 L174.212,20.656 Z M184.064,20.536 C184,20.6480006 183.908001,20.704 183.788,20.704 C183.7,20.704 183.588001,20.6540005 183.452,20.554 C183.315999,20.4539995 183.134001,20.3420006 182.906,20.218 C182.677999,20.0939994 182.396002,19.9820005 182.06,19.882 C181.723998,19.7819995 181.316002,19.732 180.836,19.732 C180.403998,19.732 180.010002,19.7939994 179.654,19.918 C179.297998,20.0420006 178.994001,20.207999 178.742,20.416 C178.489999,20.624001 178.296001,20.8659986 178.16,21.142 C178.023999,21.4180014 177.956,21.7079985 177.956,22.012 C177.956,22.3880019 178.051999,22.6999988 178.244,22.948 C178.436001,23.1960012 178.685998,23.4079991 178.994,23.584 C179.302002,23.7600009 179.655998,23.9119994 180.056,24.04 C180.456002,24.1680006 180.861998,24.2959994 181.274,24.424 C181.686002,24.5520006 182.091998,24.6939992 182.492,24.85 C182.892002,25.0060008 183.245998,25.1999988 183.554,25.432 C183.862002,25.6640012 184.111999,25.9479983 184.304,26.284 C184.496001,26.6200017 184.592,27.0279976 184.592,27.508 C184.592,28.0280026 184.500001,28.5119978 184.316,28.96 C184.131999,29.4080022 183.862002,29.7959984 183.506,30.124 C183.149998,30.4520016 182.712003,30.711999 182.192,30.904 C181.671997,31.096001 181.076003,31.192 180.404,31.192 C179.563996,31.192 178.840003,31.0580013 178.232,30.79 C177.623997,30.5219987 177.080002,30.1720022 176.6,29.74 L176.864,29.332 C176.904,29.2679997 176.95,29.2200002 177.002,29.188 C177.054,29.1559998 177.124,29.14 177.212,29.14 C177.316001,29.14 177.441999,29.2039994 177.59,29.332 C177.738001,29.4600006 177.935999,29.5979993 178.184,29.746 C178.432001,29.8940007 178.737998,30.0319994 179.102,30.16 C179.466002,30.2880006 179.915997,30.352 180.452,30.352 C180.956003,30.352 181.399998,30.2820007 181.784,30.142 C182.168002,30.0019993 182.487999,29.8120012 182.744,29.572 C183.000001,29.3319988 183.193999,29.0500016 183.326,28.726 C183.458001,28.4019984 183.524,28.0600018 183.524,27.7 C183.524,27.299998 183.428001,26.9680013 183.236,26.704 C183.043999,26.4399987 182.792002,26.2160009 182.48,26.032 C182.167998,25.8479991 181.814002,25.6920006 181.418,25.564 C181.021998,25.4359994 180.616002,25.3080006 180.2,25.18 C179.783998,25.0519994 179.378002,24.9120008 178.982,24.76 C178.585998,24.6079992 178.232002,24.4160012 177.92,24.184 C177.607998,23.9519988 177.356001,23.6700017 177.164,23.338 C176.971999,23.0059983 176.876,22.5920025 176.876,22.096 C176.876,21.6719979 176.967999,21.264002 177.152,20.872 C177.336001,20.479998 177.597998,20.1360015 177.938,19.84 C178.278002,19.5439985 178.691998,19.3080009 179.18,19.132 C179.668002,18.9559991 180.215997,18.868 180.824,18.868 C181.552004,18.868 182.197997,18.971999 182.762,19.18 C183.326003,19.388001 183.839998,19.7079978 184.304,20.14 L184.064,20.536 Z"/></g></g></svg></a><div class="site-header-version">4.5.1</div><button class="site-header__navigation-button hamburger" aria-label="Navigation Menu" type="button"><span class="hamburger__bar"></span><span class="hamburger__bar"></span><span class="hamburger__bar"></span></button></div><div class="site-header__navigation-collapsible site-header__navigation-collapsible--collapse"><ul class="site-header__navigation-items"><li tabindex="0" class="site-header__navigation-item site-header__navigation-submenu-section"><span class="site-header__navigation-link">
                                Docs
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 11" height="11" width="19" class="site-header__down-arrow site-header__icon-light"><title>Open Docs Menu</title><path stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="1.5" stroke="#02303A" d="M17.9991 10.422825L9.3741 0.565575 0.7491 10.422825" transform="rotate(-180 9.374 5.494)"/></svg></span><div class="site-header__navigation-submenu"><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/userguide/userguide.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">User Manual</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="https://guides.gradle.org" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Guides and Tutorials</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/dsl/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">DSL Reference</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/javadoc/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Javadoc</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/release-notes.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Release Notes</span></a></div></div></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://discuss.gradle.org/" class="site-header__navigation-link" target="_top">Forums</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.org/training/" class="site-header__navigation-link" target="_top">Training</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.com/enterprise" class="site-header__navigation-link" target="_top">Enterprise</a></li></ul></div></nav></header><main class="main-content"><nav class="docs-navigation"><ul><li><a href="/userguide/userguide.html">User Manual Home</a></li><li><a href="/dsl/">DSL Reference Home</a></li><li><a href="/release-notes.html">Release Notes</a></li></ul><h3 id="getting-started">Getting Started</h3><ul><li><a href="/userguide/installation.html">Installing Gradle</a></li><li><a href="https://guides.gradle.org/creating-new-gradle-builds/">Creating a New Gradle Build</a></li><li><a href="https://guides.gradle.org/creating-build-scans/">Creating Build Scans</a></li><li><a href="https://guides.gradle.org/migrating-from-maven/">Migrating from Maven</a></li></ul><h3 id="using-gradle-builds">Using Gradle Builds</h3><ul><li><a href="/userguide/command_line_interface.html">Command-Line Interface</a></li><li><a href="/userguide/gradle_wrapper.html">Gradle Wrapper</a></li><li><a href="https://docs.gradle.com/build-scan-plugin">Build Scans</a></li><li><a href="/userguide/build_environment.html">Build Environment</a></li><li><a href="/userguide/init_scripts.html">Initialization Scripts</a></li><li><a href="/userguide/intro_multi_project_builds.html">Multi-Project Builds</a></li><li><a href="/userguide/build_cache.html">Build Cache</a></li><li><a href="/userguide/composite_builds.html">Composite Builds</a></li><li><a href="/userguide/continuous_build.html">Continuous Build</a></li><li><a href="/userguide/gradle_daemon.html">Daemon</a></li><li><a href="/userguide/troubleshooting.html">Troubleshooting</a></li><li><a href="/userguide/embedding.html">Embedding Gradle</a></li></ul><h3 id="writing-gradle-builds">Authoring Gradle Builds</h3><ul><li><a aria-controls="building-jvm-projects" aria-expanded="false" href="#building-jvm-projects" data-toggle="collapse" class="nav-dropdown">JVM Projects</a><ul id="building-jvm-projects"><li><a aria-controls="java-tutorials" aria-expanded="false" href="#java-tutorials" data-toggle="collapse" class="nav-dropdown">JVM Tutorials</a><ul id="java-tutorials"><li><a href="https://guides.gradle.org/building-groovy-libraries/">Building Groovy Libraries</a></li><li><a href="https://guides.gradle.org/building-java-libraries/">Building Java Libraries</a></li><li><a href="https://guides.gradle.org/building-java-9-modules/">Building Java 9 Modules</a></li><li><a href="https://guides.gradle.org/building-java-applications/">Building Java Applications</a></li><li><a href="https://guides.gradle.org/building-java-web-applications/">Building Java Web Applications</a></li><li><a href="https://guides.gradle.org/building-kotlin-jvm-libraries/">Building Kotlin JVM Libraries</a></li><li><a href="https://guides.gradle.org/building-scala-libraries/">Building Scala Libraries</a></li><li><a href="https://guides.gradle.org/consuming-jvm-libraries/">Consuming JVM Libraries</a></li><li><a href="https://guides.gradle.org/creating-multi-project-builds/">Creating Multi-project Builds</a></li><li><a href="/userguide/tutorial_groovy_projects.html">Groovy Quickstart</a></li><li><a href="/userguide/tutorial_java_projects.html">Java Quickstart</a></li><li><a href="/userguide/web_project_tutorial.html">Web Application Quickstart</a></li><li><a href="https://guides.gradle.org/writing-gradle-tasks/">Writing Custom Script Tasks</a></li><li><a href="/userguide/custom_tasks.html">Writing Custom Task Classes</a></li><li><a href="/userguide/artifact_dependencies_tutorial.html">Dependency Management for Java Projects</a></li></ul></li><li><a aria-controls="java-plugins-reference" aria-expanded="false" href="#java-plugins-reference" data-toggle="collapse" class="nav-dropdown">Plugins Reference</a><ul id="java-plugins-reference"><li><a href="/userguide/antlr_plugin.html">ANTLR Plugin</a></li><li><a href="/userguide/application_plugin.html">Application Plugin</a></li><li><a href="/userguide/checkstyle_plugin.html">Checkstyle Plugin</a></li><li><a href="/userguide/codenarc_plugin.html">CodeNarc Plugin</a></li><li><a href="/userguide/ear_plugin.html">EAR Plugin</a></li><li><a href="/userguide/eclipse_plugin.html">Eclipse Plugin</a></li><li><a href="/userguide/findbugs_plugin.html">FindBugs Plugin</a></li><li><a href="/userguide/groovy_plugin.html">Groovy Plugin</a></li><li><a href="/userguide/idea_plugin.html">IDEA Plugin</a></li><li><a href="/userguide/jacoco_plugin.html">JaCoCo Plugin</a></li><li><a href="/userguide/java_plugin.html">Java Plugin</a></li><li><a href="/userguide/java_library_plugin.html">Java Library Plugin</a></li><li><a href="/userguide/java_library_distribution_plugin.html">Java Library Distribution Plugin</a></li><li><a href="/userguide/java_software.html">Java Software Model</a></li><li><a href="/userguide/jetty_plugin.html">Jetty Plugin</a></li><li><a href="/userguide/jdepend_plugin.html">JDepend Plugin</a></li><li><a href="/userguide/osgi_plugin.html">OSGi Plugin</a></li><li><a href="/userguide/play_plugin.html">Play Plugin</a></li><li><a href="/userguide/project_report_plugin.html">Project Report Plugin</a></li><li><a href="/userguide/pmd_plugin.html">PMD Plugin</a></li><li><a href="/userguide/scala_plugin.html">Scala Plugin</a></li><li><a href="/userguide/war_plugin.html">WAR Plugin</a></li></ul></li><li><a href="/userguide/ant.html">Using Ant from Gradle</a></li></ul></li><li><a aria-controls="building-native-projects" aria-expanded="false" href="#building-cpp-projects" data-toggle="collapse" class="nav-dropdown">C++ Projects</a><ul id="building-cpp-projects"><li><a aria-controls="cpp-tutorials" aria-expanded="false" href="#cpp-tutorials" data-toggle="collapse" class="nav-dropdown">C++ Tutorials</a><ul id="cpp-tutorials"><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Executables</a></li><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Libraries</a></li></ul></li><li><a href="/userguide/native_software.html">Building Native Software</a></li><li><a href="/userguide/software_model_concepts.html">Software Model Concepts</a></li><li><a href="/userguide/software_model.html">Rule-based Model Configuration</a></li><li><a href="/userguide/rule_source.html">Implementing Model Rules in a Plugin</a></li><li><a href="/userguide/software_model_extend.html">Extending the Software Model</a></li></ul></li><li><a aria-controls="building-android-projects" aria-expanded="false" href="#building-android-projects" data-toggle="collapse" class="nav-dropdown">Android Projects</a><ul id="building-android-projects"><li><a href="https://guides.gradle.org/building-android-apps/">Building Android Apps</a></li></ul></li><li><a aria-controls="building-javascript-projects" aria-expanded="false" href="#building-javascript-projects" data-toggle="collapse" class="nav-dropdown">JavaScript Projects</a><ul id="building-javascript-projects"><li><a href="https://guides.gradle.org/running-webpack-with-gradle/">Bundling JavaScript with Webpack</a></li></ul></li><li><a aria-controls="authoring-build-scripts" aria-expanded="false" href="#authoring-build-scripts" data-toggle="collapse" class="nav-dropdown">Authoring Build Scripts</a><ul id="authoring-build-scripts"><li><a href="/userguide/tutorial_using_tasks.html">Build Script Basics</a></li><li><a href="/userguide/more_about_tasks.html">Authoring Tasks</a></li><li><a href="/userguide/logging.html">Logging</a></li><li><a href="/userguide/test_kit.html">Testing with TestKit</a></li><li><a href="/userguide/multi_project_builds.html">Authoring Multi-Project Builds</a></li><li><a href="/userguide/standard_plugins.html">Standard Gradle Plugins</a></li><li><a href="/userguide/plugins.html">Using Gradle Plugins</a></li><li><a href="/userguide/writing_build_scripts.html">Writing Build Scripts</a></li><li><a href="/userguide/working_with_files.html">Working with Files</a></li><li><a href="/userguide/build_lifecycle.html">Build Lifecycle</a></li><li><a href="/userguide/feature_lifecycle.html">Feature Lifecycle</a></li></ul></li><li><a aria-controls="managing-dependencies" aria-expanded="false" href="#managing-dependencies" data-toggle="collapse" class="nav-dropdown">Managing Dependencies</a><ul id="managing-dependencies"><li><a href="/userguide/introduction_dependency_management.html">Introduction to Dependency Management</a></li><li><a href="/userguide/declaring_dependencies.html">Declaring Dependencies</a></li><li><a href="/userguide/declaring_repositories.html">Declaring Repositories</a></li><li><a href="/userguide/inspecting_dependencies.html">Inspecting Dependencies</a></li><li><a href="/userguide/managing_transitive_dependencies.html">Managing Transitive Dependencies</a></li><li><a href="/userguide/working_with_dependencies.html">Working with Dependencies</a></li><li><a href="/userguide/customizing_dependency_resolution_behavior.html">Customizing Dependency Resolution Behavior</a></li><li><a href="/userguide/troubleshooting_dependency_resolution.html">Troubleshooting Dependency Resolution</a></li><li><a aria-controls="dependency-management-glossary" aria-expanded="false" href="#dependency-management-glossary" data-toggle="collapse" class="nav-dropdown">Glossary</a><ul id="dependency-management-glossary"><li><a href="/userguide/dependency_types.html">Dependency Types</a></li><li><a href="/userguide/repository_types.html">Repository Types</a></li></ul></li></ul></li><li><a aria-controls="publishing-artifacts" aria-expanded="false" href="#publishing-artifacts" data-toggle="collapse" class="nav-dropdown">Publishing Artifacts</a><ul id="publishing-artifacts"><li><a href="/userguide/artifact_management.html">Publishing Artifacts Overview</a></li><li><a href="/userguide/distribution_plugin.html">Distribution Plugin</a></li><li><a href="/userguide/maven_plugin.html">Maven Plugin</a></li><li><a href="/userguide/publishing_maven.html">Maven Publish Plugin</a></li><li><a href="/userguide/publishing_ivy.html">Ivy Publish Plugin</a></li><li><a href="/userguide/signing_plugin.html">Signing Plugin</a></li></ul></li><li><a aria-controls="best-practices" aria-expanded="false" href="#best-practices" data-toggle="collapse" class="nav-dropdown">Best Practices</a><ul id="best-practices"><li><a href="/userguide/organizing_build_logic.html">Organizing Build Logic</a></li><li><a href="https://guides.gradle.org/performance/">Optimizing Build Performance</a></li><li><a href="https://guides.gradle.org/using-build-cache/">Using the Build Cache</a></li></ul></li><li><a aria-controls="sample-gradle-builds" aria-expanded="false" href="#sample-gradle-builds" data-toggle="collapse" class="nav-dropdown">Sample Gradle Builds</a><ul id="sample-gradle-builds"><li><a href="https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples">Sample Projects</a></li><li><a href="https://github.com/gradle/native-samples">Native Samples</a></li><li><a href="https://github.com/gradle/kotlin-dsl/tree/master/samples">Kotlin DSL Samples</a></li></ul></li></ul><h3 id="developing-gradle-plugins">Developing Gradle Plugins</h3><ul><li><a aria-controls="plugins-tutorials" aria-expanded="false" href="#plugins-tutorials" data-toggle="collapse" class="nav-dropdown">Gradle Plugins Tutorials</a><ul id="plugins-tutorials"><li><a href="https://guides.gradle.org/designing-gradle-plugins/">Designing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/implementing-gradle-plugins/">Implementing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/testing-gradle-plugins/">Testing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/publishing-plugins-to-gradle-plugin-portal/">Publishing Gradle Plugins</a></li></ul></li><li><a href="https://guides.gradle.org/using-the-worker-api/">Developing Parallel Tasks</a></li><li><a href="/userguide/lazy_configuration.html">Lazy Task Configuration</a></li><li><a href="/userguide/java_gradle_plugin.html">Plugin Development Plugin</a></li><li><a href="/userguide/custom_plugins.html">Writing Custom Plugins</a></li></ul></nav><div class="chapter"><div class="titlepage"><div><aside class="chapter-meta js-chapter-meta"><div class="rating js-rating-widget"><i data-label="5" data-action="rating" title="Excellent Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="4" data-action="rating" title="Good Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="3" data-action="rating" title="OK Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="2" data-action="rating" title="Poor Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="1" data-action="rating" title="Unusable Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i></div><div class="quick-edit"><a href="https://github.com/gradle/gradle/edit/master/subprojects/docs/src/docs/userguide/" class="edit-link js-edit-link"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" version="1.1" viewBox="0 0 11 12" height="12px" width="11px"><g stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" fill="none" stroke-width="1" stroke="#999999"><polyline points="9 5.11724219 9 11.5 0.5 11.5 0.5 2.5 5 2.5"/><polygon points="9.59427002 0.565307617 4.31427002 5.84530762 4.31427002 6.56530762 5.03427002 6.56530762 10.31427 1.28530762" fill="#999999"/></g></svg>
                    Edit this page
                </a></div></aside><div><h1 xmlns:xslthl="http://xslthl.sf.net"><a name="software_model"></a>Rule based model configuration</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="software_model.html#sec:background">Background</a></span></dt><dt><span class="section"><a href="software_model.html#sec:motivations_for_change">Motivations for change</a></span></dt><dt><span class="section"><a href="software_model.html#sec:basic_concepts">Basic Concepts</a></span></dt><dt><span class="section"><a href="software_model.html#sec:rule_sources">Rule sources</a></span></dt><dt><span class="section"><a href="software_model.html#sec:advanced_concepts">Advanced Concepts</a></span></dt><dt><span class="section"><a href="software_model.html#model-dsl">The model DSL</a></span></dt><dt><span class="section"><a href="software_model.html#model-report">The model report</a></span></dt><dt><span class="section"><a href="software_model.html#sec:limitations_and_future_direction">Limitations and future direction</a></span></dt></dl></div><div class="note"><p>Support for rule based configuration is currently <a class="link" href="feature_lifecycle.html">incubating</a>. Please be aware that the DSL, APIs and other configuration may change in later Gradle versions.</p></div><p>Rule based model configuration enables <span class="emphasis"><em>configuration logic to itself have dependencies</em></span> on other elements of configuration, and to make use of the resolved states of those other elements of configuration while performing its own configuration.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:background" class="section-anchor" href="#sec:background"></a>Background</h2></div></div></div><p>Rule based model configuration facilitates easier domain modelling: communicating intent (i.e. the what) over mechanics (i.e. the how). Domain modelling is a core tenet of Gradle and provides Gradle with several advantages over prior generation build tools such as Apache Ant that focus on the execution model. It allows humans to understand builds at a level that is meaningful to them.</p><p>As well as helping humans, a strong domain model also helps the dutiful machines. Plugins can more effectively collaborate around a strong domain model (e.g. plugins can say something about Java applications, such as providing conventions). Very importantly, by having a model of the <span class="emphasis"><em>what</em></span> instead of the <span class="emphasis"><em>how</em></span> Gradle can make intelligent choices on just how to do the how.</p><p>Gradle&rsquo;s support for building <a class="link" href="native_software.html">native software</a> and <a class="link" href="play_plugin.html">Play Framework applications</a> already uses this configuration model. Gradle also includes some initial support for building <a class="link" href="java_software.html">Java libraries</a> using this configuration model.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:motivations_for_change" class="section-anchor" href="#sec:motivations_for_change"></a>Motivations for change</h2></div></div></div><p>Domain modelling in Gradle isn&rsquo;t new. The Java plugin&rsquo;s <a class="ulink" href="../dsl/org.gradle.api.tasks.SourceSet.html" target="_top"><code class="classname">SourceSet</code></a> concept is an example of domain modelling, as is the modelling of <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinary.html" target="_top"><code class="classname">NativeBinary</code></a> in the native plugin suite.</p><p>A distinguishing characteristic of Gradle compared to other build tools that also embrace modelling is that Gradle&rsquo;s model is open and collaborative. Gradle is fundamentally a tool for modelling software construction and then realizing the model, via tasks such as compilation etc. Different domain plugins (e.g. Java, C++, Android) provide models that other plugins can collaborate with and build upon.</p><p>While Gradle has long employed sophisticated techniques when it comes to realizing the model (i.e. what we know as building code), the next generation of Gradle builds will employ some of the same techniques to creation of the model itself. By defining build tasks as effectively a graph of dependent functions with explicit inputs and outputs, Gradle is able to order, cache, parallelize and apply other optimizations to the work. Using a &ldquo;graph of tasks&rdquo; for the production of software is a long established idea, and necessary given the complexity of software production. The task graph effectively defines the <span class="emphasis"><em>rules</em></span> of execution that Gradle must follow. The term &ldquo;Rule based model configuration&rdquo; refers to applying the same concepts to building the model that builds the task graph.</p><p>Another key motivation is performance and scale. Aspects of the current approach that Gradle takes to modelling the build reduce parallelism opportunities and limit scalability. The software model is being designed with the requirements of modern software delivery in mind, where immediate responsiveness is critical for projects large and small.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:basic_concepts" class="section-anchor" href="#sec:basic_concepts"></a>Basic Concepts</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:the_model_space" class="section-anchor" href="#sec:the_model_space"></a>The &ldquo;model space&rdquo;</h3></div></div></div><p>The term &ldquo;model space&rdquo;&nbsp;is used to refer to the formal model, which can be read and modified by rules.</p><p>A counterpart to the model space is the &ldquo;project space&rdquo;, which should be familiar to readers. The &ldquo;project space&rdquo; is a graph of objects (e.g <code class="literal">project.repositories</code>, <code class="literal">project.tasks</code> etc.) having a <a class="ulink" href="../dsl/org.gradle.api.Project.html" target="_top"><code class="classname">Project</code></a> as its root. A build script is effectively adding and configuring objects of this graph. For the most part, the &ldquo;project space&rdquo; is opaque to Gradle. It is an arbitrary graph of objects that Gradle only partially understands.</p><p>Each project also has its own model space, which is distinct from the project space. A key characteristic of the &ldquo;model space&rdquo; is that Gradle knows much more about it (which is knowledge that can be put to good use). The objects in the model space are &ldquo;managed&rdquo;, to a greater extent than objects in the project space. The origin, structure, state, collaborators and relationships of objects in the model space are first class constructs. This is effectively the characteristic that functionally distinguishes the model space from the project space: the objects of the model space are defined in ways that Gradle can understand them intimately, as opposed to an object that is the result of running relatively opaque code. A &ldquo;rule&rdquo;&nbsp;is effectively a building block of this definition.</p><p>The model space will eventually replace the project space, becoming the only &ldquo;space&rdquo;.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:rules" class="section-anchor" href="#sec:rules"></a>Rules</h3></div></div></div><p>The model space is defined by &ldquo;rules&rdquo;. A rule is just a function (in the abstract sense) that either produces a model element, or acts upon a model element. Every rule has a single subject and zero or more inputs. Only the subject can be changed by a rule, while the inputs are effectively immutable.</p><p>Gradle guarantees that all inputs are fully &ldquo;realized&ldquo; before the rule executes. The process of &ldquo;realizing&rdquo; a model element is effectively executing all the rules for which it is the subject, transitioning it to its final state. There is a strong analogy here to Gradle&rsquo;s task graph and task execution model. Just as tasks depend on each other and Gradle ensures that dependencies are satisfied before executing a task, rules effectively depend on each other (i.e. a rule depends on all rules whose subject is one of the inputs) and Gradle ensures that all dependencies are satisfied before executing the rule.</p><p>Model elements are very often defined in terms of other model elements. For example, a compile task&rsquo;s configuration can be defined in terms of the configuration of the source set that it is compiling. In this scenario, the compile task would be the subject of a rule and the source set an input. Such a rule could configure the task subject based on the source set input without concern for how it was configured, who it was configured by or when the configuration was specified.</p><p>There are several ways to declare rules, and in several forms.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:rule_sources" class="section-anchor" href="#sec:rule_sources"></a>Rule sources</h2></div></div></div><p>One way to define rules is via a <a class="ulink" href="../javadoc/org/gradle/model/RuleSource.html" target="_top"><code class="classname">RuleSource</code></a> subclass. If an object extends RuleSource and contains any methods annotated by '@Mutate', then each such method defines a rule. For each such method, the first argument is the subject, and zero or more subsequent arguments may follow and are inputs of the rule.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin-all"></a><p class="title"><b>Example&nbsp;493.&nbsp;applying a rule source plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> Person {
  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setFirstName(String name)
  String getFirstName()

  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setLastName(String name)
  String getLastName()
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> PersonRules <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> RuleSource {
  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Model</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> person(Person p) {}

  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Create a rule that modifies a Person and takes no other inputs</span>
  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setFirstName(Person p) {
    p.firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
  }

  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Create a rule that modifies a ModelMap&lt;Task&gt; and takes as input a Person</span>
  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> createHelloTask(ModelMap&lt;Task&gt; tasks, Person p) {
    tasks.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"hello"</span>) {
      doLast {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Hello $p.firstName $p.lastName!"</span>
      }
    }
  }
}

apply plugin: PersonRules
</pre><p>Output of <strong class="userinput"><code>gradle hello</code></strong></p><pre class="screen">&gt; gradle hello
:hello
Hello John Smith!

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>Each of the different methods of the rule source are discrete, independent rules. Their order, or the fact that they belong to the same class, do not affect their behavior.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;494.&nbsp;a model creation rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Model</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> person(Person p) {}
</pre></div></div><br class="example-break"><p>This rule declares that there is a model element at path <code class="literal">"person"</code> (defined by the method name), of type <code class="literal">Person</code>. This is the form of the <a class="ulink" href="../javadoc/org/gradle/model/Model.html" target="_top"><code class="classname">Model</code></a> type rule for <a class="ulink" href="../javadoc/org/gradle/model/Managed.html" target="_top"><code class="classname">Managed</code></a> types. Here, the person object is the rule subject. The method could potentially have a body, that mutated the person instance. It could also potentially have more parameters, which would be the rule inputs.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;495.&nbsp;a model mutation rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Create a rule that modifies a Person and takes no other inputs</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setFirstName(Person p) {
  p.firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
}
</pre></div></div><br class="example-break"><p>This <a class="ulink" href="../javadoc/org/gradle/model/Mutate.html" target="_top"><code class="classname">Mutate</code></a> rule mutates the person object. The first parameter to the method is the subject. Here, a by-type reference is used as no <a class="ulink" href="../javadoc/org/gradle/model/Path.html" target="_top"><code class="classname">Path</code></a> annotation is present on the parameter. It could also potentially have more parameters, that would be the rule inputs.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;496.&nbsp;creating a task</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Create a rule that modifies a ModelMap&lt;Task&gt; and takes as input a Person</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> createHelloTask(ModelMap&lt;Task&gt; tasks, Person p) {
  tasks.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"hello"</span>) {
    doLast {
      println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Hello $p.firstName $p.lastName!"</span>
    }
  }
}
</pre></div></div><br class="example-break"><p>This <a class="ulink" href="../javadoc/org/gradle/model/Mutate.html" target="_top"><code class="classname">Mutate</code></a> rule effectively adds a task, by mutating the tasks collection. The subject here is the <code class="literal">"tasks"</code> node, which is available as a <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> of <a class="ulink" href="../dsl/org.gradle.api.Task.html" target="_top"><code class="classname">Task</code></a>. The only input is our person element. As the person is being used as an input here, it will have been realised before executing this rule. That is, the task container effectively <span class="emphasis"><em>depends on</em></span> the person element. If there are other configuration rules for the person element, potentially specified in a build script or other plugin, they will also be guaranteed to have been executed.</p><p>As <code class="literal">Person</code> is a <a class="ulink" href="../javadoc/org/gradle/model/Managed.html" target="_top"><code class="classname">Managed</code></a> type in this example, any attempt to modify the person parameter in this method would result in an exception being thrown. Managed objects enforce immutability at the appropriate point in their lifecycle.</p><p>Rule source plugins can be packaged and distributed in the same manner as other types of plugins (see <a class="xref" href="custom_plugins.html"><i>Writing Custom Plugins</i></a>). They also may be applied in the same manner (to project objects) as <a class="ulink" href="../javadoc/org/gradle/api/Plugin.html" target="_top"><code class="classname">Plugin</code></a> implementations (i.e. via <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:apply(java.util.Map)" target="_top"><code class="classname">Project.apply(java.util.Map)</code></a>).</p><p>Please see the documentation for <a class="ulink" href="../javadoc/org/gradle/model/RuleSource.html" target="_top"><code class="classname">RuleSource</code></a> for more information on constraints on how rule sources must be implemented and for more types of rules.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:advanced_concepts" class="section-anchor" href="#sec:advanced_concepts"></a>Advanced Concepts</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:model_paths" class="section-anchor" href="#sec:model_paths"></a>Model paths</h3></div></div></div><p>A model path identifies the location of an element relative to the root of its model space. A common representation is a period-delimited set of names. For example, the model path <code class="literal">"tasks"</code> is the path to the element that is the task container. Assuming a task whose name is <code class="literal">hello</code>, the path <code class="literal">"tasks.hello"</code> is the path to this task.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:managed_model_elements" class="section-anchor" href="#sec:managed_model_elements"></a>Managed model elements</h3></div></div></div><p>Currently, any kind of Java object can be part of the model space. However, there is a difference between &ldquo;managed&rdquo; and &ldquo;unmanaged&rdquo;&nbsp;objects.</p><p>A &ldquo;managed&rdquo; object is transparent and enforces immutability once realized. Being transparent means that its structure is understood by the rule infrastructure and as such each of its properties are also individual elements in the model space.</p><p>An &ldquo;unmanaged&rdquo;&nbsp;object is opaque to the model space and does not enforce immutability. Over time, more mechanisms will be available for defining managed model elements culminating in all model elements being managed in some way.</p><p>Managed models can be defined by attaching the <code class="literal">@Managed</code> annotation to an interface:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;497.&nbsp;a managed type</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> Person {
  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setFirstName(String name)
  String getFirstName()

  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setLastName(String name)
  String getLastName()
}
</pre></div></div><br class="example-break"><p>By defining a getter/setter pair, you are effectively declaring a managed property. A managed property is a property for which Gradle will enforce semantics such as immutability when a node of the model is not the subject of a rule. Therefore, this example declares properties named <span class="emphasis"><em>firstName</em></span> and <span class="emphasis"><em>lastName</em></span> on the managed type <span class="emphasis"><em>Person</em></span>. These properties will only be writable when the view is mutable, that is to say when the <span class="emphasis"><em>Person</em></span> is the subject of a <code class="literal">Rule</code> (see below the explanation for rules).</p><p>Managed properties can be of any scalar type. In addition, properties can also be of any type which is itself managed:</p><div class="informaltable"><table border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th align="left" valign="top">Property type</th><th align="left" valign="top">Nullable</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Yes</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;498.&nbsp;a String property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setFirstName(String name)
String getFirstName()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p><code class="literal">File</code></p></td><td align="left" valign="top"><p>Yes</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;499.&nbsp;a File property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setHomeDirectory(File homeDir)
File getHomeDirectory()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p><code class="literal">Integer</code>, <code class="literal">Boolean</code>, <code class="literal">Byte</code>, <code class="literal">Short</code>, <code class="literal">Float</code>, <code class="literal">Long</code>, <code class="literal">Double</code></p></td><td align="left" valign="top"><p>Yes</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;500.&nbsp;a Long property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setId(Long id)
Long getId()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p><code class="literal">int</code>, <code class="literal">boolean</code>, <code class="literal">byte</code>, <code class="literal">short</code>, <code class="literal">float</code>, <code class="literal">long</code>, <code class="literal">double</code></p></td><td align="left" valign="top"><p>No</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;501.&nbsp;a boolean property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setEmployed(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">boolean</span> isEmployed)
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">boolean</span> isEmployed()
</pre></div></div><br class="example-break">
<div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;502.&nbsp;an int property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setAge(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> age)
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> getAge()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p>Another <span class="emphasis"><em>managed</em></span> type.</p></td><td align="left" valign="top"><p>Only if read/write</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;503.&nbsp;a managed property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setMother(Person mother)
Person getMother()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p>An <span class="emphasis"><em>enumeration</em></span> type.</p></td><td align="left" valign="top"><p>Yes</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;504.&nbsp;an enumeration type property</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setMaritalStatus(MaritalStatus status)
MaritalStatus getMaritalStatus()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p>A <code class="literal">ManagedSet</code>. A managed set supports the creation of new named model elements, but not their removal.</p></td><td align="left" valign="top"><p>Only if read/write</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;505.&nbsp;a managed set</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">ModelSet&lt;Person&gt; getChildren()
</pre></div></div><br class="example-break"></td></tr><tr><td align="left" valign="top"><p>A <code class="literal">Set</code> or <code class="literal">List</code> of scalar types. All classic operations on collections are supported: add, remove, clear&hellip;</p></td><td align="left" valign="top"><p>Only if read/write</p></td><td align="left" valign="top"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin"></a><p class="title"><b>Example&nbsp;506.&nbsp;a scalar collection</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setUserGroups(List&lt;String&gt; groups)
List&lt;String&gt; getUserGroups()
</pre></div></div><br class="example-break"></td></tr></tbody></table></div><p>If the type of a property is itself a managed type, it is possible to declare only a getter, in which case you are declaring a read-only property. A read-only property will be instantiated by Gradle, and cannot be replaced with another object of the same type (for example calling a setter). However, the properties of that property can potentially be changed, if, and only if, the property is the subject of a rule. If it&rsquo;s not the case, the property is immutable, like any classic read/write managed property, and properties of the property cannot be changed at all.</p><p>Managed types can be defined out of interfaces or abstract classes and are usually defined in plugins, which are written either in Java or Groovy. Please see the <a class="ulink" href="../javadoc/org/gradle/model/Managed.html" target="_top"><code class="classname">Managed</code></a> annotation for more information on creating managed model objects.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:model_element_types" class="section-anchor" href="#sec:model_element_types"></a>Model element types</h3></div></div></div><p>There are particular types (language types) supported by the model space and can be generalised as follows:</p><div xmlns:xslthl="http://xslthl.sf.net" class="table"><p class="title"><b>Table&nbsp;98.&nbsp;Type definitions</b></p><div class="table-contents"><table colsep="1" frame="all" rowsep="1" id="N193CB"><thead><tr>
<td>Type</td>
<td>Definition</td>
</tr></thead><tbody><tr>
<td><p>Scalar</p></td>
<td><p>A scalar type is one of the following:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>a primitive type (e.g. <code class="literal">int</code>) or its boxed type (e.g <code class="literal">Integer</code>)</p></li><li class="listitem"><p>a <code class="literal">BigInteger</code> or <code class="literal">BigDecimal</code></p></li><li class="listitem"><p>a <code class="literal">String</code></p></li><li class="listitem"><p>a <code class="literal">File</code></p></li><li class="listitem"><p>an enumeration type</p></li></ul></div></td>
</tr><tr>
<td><p>Scalar Collection</p></td>
<td><p>A java.util.List or java.util.Set containing one of the scalar types</p></td>
</tr><tr>
<td><p>Managed type</p></td>
<td><p>Any class which is a valid managed model (i.e.annotated with @<a class="ulink" href="../javadoc/org/gradle/model/Managed.html" target="_top"><code class="classname">Managed</code></a>)</p></td>
</tr><tr>
<td><p>Managed collection</p></td>
<td><p>A <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> or <a class="ulink" href="../javadoc/org/gradle/model/ModelSet.html" target="_top"><code class="classname">ModelSet</code></a></p></td>
</tr></tbody></table></div></div><p>There are various contexts in which these types can be used:</p><div xmlns:xslthl="http://xslthl.sf.net" class="table"><p class="title"><b>Table&nbsp;99.&nbsp;Model type support</b></p><div class="table-contents"><table colsep="1" frame="all" rowsep="1" id="N19433"><thead><tr>
<td>Context</td>
<td>Supported types</td>
</tr></thead><tbody><tr>
<td><p>Creating top level model elements</p></td>
<td><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Any managed type</p></li><li class="listitem"><p><a class="ulink" href="../javadoc/org/gradle/language/base/FunctionalSourceSet.html" target="_top"><code class="classname">FunctionalSourceSet</code></a> (when the <a class="ulink" href="../javadoc/org/gradle/language/base/plugins/LanguageBasePlugin.html" target="_top"><code class="classname">LanguageBasePlugin</code></a> plugin has been applied)</p></li><li class="listitem"><p>Subtypes of <a class="ulink" href="../dsl/org.gradle.language.base.LanguageSourceSet.html" target="_top"><code class="classname">LanguageSourceSet</code></a> which have been registered via <a class="ulink" href="../javadoc/org/gradle/platform/base/ComponentType.html" target="_top"><code class="classname">ComponentType</code></a></p></li></ul></div></td>
</tr><tr>
<td><p>Properties of managed model elements</p></td>
<td><p>The properties (attributes) of a managed model elements may be one or more of the following:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A managed type</p></li><li class="listitem"><p>A type which is annotated with @<a class="ulink" href="../javadoc/org/gradle/model/Unmanaged.html" target="_top"><code class="classname">Unmanaged</code></a></p></li><li class="listitem"><p>A Scalar Collection</p></li><li class="listitem"><p>A Managed collection containing managed types</p></li><li class="listitem"><p>A Managed collection containing <a class="ulink" href="../javadoc/org/gradle/language/base/FunctionalSourceSet.html" target="_top"><code class="classname">FunctionalSourceSet</code></a>'s (when the <a class="ulink" href="../javadoc/org/gradle/language/base/plugins/LanguageBasePlugin.html" target="_top"><code class="classname">LanguageBasePlugin</code></a> plugin has been applied)</p></li><li class="listitem"><p>Subtypes of <a class="ulink" href="../dsl/org.gradle.language.base.LanguageSourceSet.html" target="_top"><code class="classname">LanguageSourceSet</code></a> which have been registered via <a class="ulink" href="../javadoc/org/gradle/platform/base/ComponentType.html" target="_top"><code class="classname">ComponentType</code></a></p></li></ul></div></td>
</tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:language_source_sets" class="section-anchor" href="#sec:language_source_sets"></a>Language source sets</h3></div></div></div><p><a class="ulink" href="../javadoc/org/gradle/language/base/FunctionalSourceSet.html" target="_top"><code class="classname">FunctionalSourceSet</code></a>s and subtypes of <a class="ulink" href="../dsl/org.gradle.language.base.LanguageSourceSet.html" target="_top"><code class="classname">LanguageSourceSet</code></a> (which have been registered via <a class="ulink" href="../javadoc/org/gradle/platform/base/ComponentType.html" target="_top"><code class="classname">ComponentType</code></a>) can be added to the model space via rules or via the model DSL.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="model-language-support-all"></a><p class="title"><b>Example&nbsp;507.&nbsp;strongly modelling sources sets</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'java-lang'</span>

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Creating LanguageSourceSets via rules</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> LanguageSourceSetRules <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> RuleSource {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Model</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> mySourceSet(JavaSourceSet javaSource) {
        javaSource.source.srcDir(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/my"</span>)
    }
}
apply plugin: LanguageSourceSetRules

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Creating LanguageSourceSets via the model DSL</span>
model {
    another(JavaSourceSet) {
        source {
            srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/another"</span>
        }
    }
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//Using FunctionalSourceSets</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> SourceBundle {
    FunctionalSourceSet getFreeSources()
    FunctionalSourceSet getPaidSources()
}
model {
    sourceBundle(SourceBundle) {
        freeSources.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"main"</span>, JavaSourceSet)
        freeSources.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"resources"</span>, JvmResourceSet)
        paidSources.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"main"</span>, JavaSourceSet)
        paidSources.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"resources"</span>, JvmResourceSet)
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/modelRules/language-support</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div><p>Output of <strong class="userinput"><code>gradle help</code></strong></p><pre class="screen">&gt; gradle help
:help
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:references_binding_and_scopes" class="section-anchor" href="#sec:references_binding_and_scopes"></a>References, binding and scopes</h3></div></div></div><p>As previously mentioned, a rule has a subject and zero or more inputs. The rule&rsquo;s subject and inputs are declared as &ldquo;references&rdquo; and are &ldquo;bound&rdquo;&nbsp;to model elements before execution by Gradle. Each rule must effectively forward declare the subject and inputs as references. Precisely how this is done depends on the form of the rule. For example, the rules provided by a <a class="ulink" href="../javadoc/org/gradle/model/RuleSource.html" target="_top"><code class="classname">RuleSource</code></a> declare references as method parameters.</p><p>A reference is either &ldquo;by-path&rdquo; or &ldquo;by-type&rdquo;.</p><p>A &ldquo;by-type&rdquo; reference identifies a particular model element by its type. For example, a reference to the <a class="ulink" href="../javadoc/org/gradle/api/tasks/TaskContainer.html" target="_top"><code class="classname">TaskContainer</code></a> effectively identifies the <code class="literal">"tasks"</code> element in the project model space. The model space is not exhaustively searched for candidates for by-type binding; rather, a rule is given a scope (discussed later) that determines the search space for a by-type binding.</p><p>A &ldquo;by-path&rdquo;&nbsp;reference identifies a particular model element by its path in model space. By-path references are always relative to the rule scope; there is currently no way to path &ldquo;out&rdquo; of the scope. All by-path references also have an associated type, but this does not influence what the reference binds to. The element identified by the path must however by type compatible with the reference, or a fatal &ldquo;binding failure&rdquo; will occur.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:binding_scope" class="section-anchor" href="#sec:binding_scope"></a>Binding scope</h4></div></div></div><p>Rules are bound within a &ldquo;scope&rdquo;, which determines how references bind. Most rules are bound at the project scope (i.e. the root of the model graph for the project). However, rules can be scoped to a node within the graph. The <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html#named-java.lang.String, java.lang.Class-" target="_top"><code class="classname">ModelMap.named(java.lang.String, java.lang.Class)</code></a> method is an example of a mechanism for applying scoped rules. Rules declared in the build script using the <code class="literal">model {}</code> block, or via a <code class="literal">RuleSource</code> applied as a plugin use the root of the model space as the scope. This can be considered the default scope.</p><p>By-path references are always relative to the rule scope. When the scope is the root, this effectively allows binding to any element in the graph. When it is not, then only the children of the scope can be referenced using "by-path" notation.</p><p>When binding by-type references, the following elements are considered:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The scope element itself.</p></li><li class="listitem"><p>The immediate children of the scope element.</p></li><li class="listitem"><p>The immediate children of the model space (i.e. project space) root.</p></li></ul></div><p>For the common case, where the rule is effectively scoped to the root, only the immediate children of the root need to be considered.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="binding_all_elements_in_scope" class="section-anchor" href="#binding_all_elements_in_scope"></a>Binding to all elements in a scope matching type</h4></div></div></div><p>Mutating or validating all elements of a given type in some scope is a common use-case. To accommodate this, rules can be applied via the <code class="literal">@Each</code> annotation.</p><p>In the example below, a <code class="literal">@Defaults</code> rule is applied to each <code class="literal">FileItem</code> in the model setting a default file size of "1024". Another rule applies a <a class="ulink" href="../javadoc/org/gradle/model/RuleSource.html" target="_top"><code class="classname">RuleSource</code></a> to every <code class="literal">DirectoryItem</code> that makes sure all file sizes are positive and divisible by "16".</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="ruleSourcePluginEach"></a><p class="title"><b>Example&nbsp;508.&nbsp;a DSL example applying a rule to every element in a scope</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> Item <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> Named {}
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> FileItem <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> Item {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setSize(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> size)
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> getSize()
}
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> DirectoryItem <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> Item {
    ModelMap&lt;Item&gt; getChildren()
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> PluginRules <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> RuleSource {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Defaults</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setDefaultFileSize(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Each</span> FileItem file) {
        file.size = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1024</span>
    }

    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Rules</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> applyValidateRules(ValidateRules rules, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Each</span> DirectoryItem directory)  {}
}
apply plugin: PluginRules

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">abstract</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ValidateRules <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> RuleSource {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Validate</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> validateSizeIsPositive(ModelMap&lt;FileItem&gt; files) {
        files.each { file -&gt;
            assert file.size &gt; <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">0</span>
        }
    }

    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Validate</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> validateSizeDivisibleBySixteen(ModelMap&lt;FileItem&gt; files) {
        files.each { file -&gt;
            assert file.size % <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">16</span> == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">0</span>
        }
    }
}

model {
    root(DirectoryItem) {
        children {
            dir(DirectoryItem) {
                children {
                    file1(FileItem)
                    file2(FileItem) { size = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2048</span> }
                }
            }
            file3(FileItem)
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/modelRules/ruleSourcePluginEach</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="model-dsl" class="section-anchor" href="#model-dsl"></a>The model DSL</h2></div></div></div><p>In addition to using a RuleSource, it is also possible to declare a model and rules directly in a build script using the &ldquo;model DSL&rdquo;.</p><div class="tip"><p>The model DSL makes heavy use of various Groovy DSL features. Please have a read of <a class="xref" href="writing_build_scripts.html#groovy-dsl-basics">the section called &ldquo;Some Groovy basics&rdquo;</a> for an introduction to these Groovy features.</p></div><p>The general form of the model DSL is:</p><pre class="programlisting">model {
    &laquo;rule-definitions&raquo;
}</pre><p>All rules are nested inside a <code class="literal">model</code> block. There may be any number of rule definitions inside each <code class="literal">model</code> block, and there may be any number of <code class="literal">model</code> blocks in a build script. You can also use a <code class="literal">model</code> block in build scripts that are applied using <code class="literal">apply from: $uri</code>.</p><p>There are currently 2 kinds of rule that you can define using the model DSL: configuration rules, and creation rules.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:configuration_rules" class="section-anchor" href="#sec:configuration_rules"></a>Configuration rules</h3></div></div></div><p>You can define a rule that configures a particular model element. A configuration rule has the following form:</p><pre class="programlisting">model {
    &laquo;model-path-to-subject&raquo; {
        &laquo;configuration code&raquo;
    }
}</pre><p>Continuing with the example so far of the model element <code class="literal">"person"</code> of type <code class="literal">Person</code> being present, the following DSL snippet adds a configuration rule for the person that sets its <code class="literal">lastName</code> property.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslConfigure"></a><p class="title"><b>Example&nbsp;509.&nbsp;DSL configuration rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    person {
        lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smith"</span>
    }
}
</pre></div></div><br class="example-break"><p>A configuration rule specifies a path to the subject that should be configured and a closure containing the code to run when the subject is configured. The closure is executed with the subject passed as the closure delegate. Exactly what code you can provide in the closure depends on the type of the subject. This is discussed below.</p><p>You should note that the configuration code is not executed immediately but is instead executed only when the subject is required. This is an important behaviour of model rules and allows Gradle to configure only those elements that are required for the build, which helps reduce build time. For example, let&rsquo;s run a task that uses the "person" object:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslConfigureRuleRunWhenRequired"></a><p class="title"><b>Example&nbsp;510.&nbsp;Configuration run when required</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    person {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"configuring person"</span>
        lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smith"</span>
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle showPerson</code></strong></p><pre class="screen">&gt; gradle showPerson
configuring person
:showPerson
Hello John Smith!

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>You can see that before the task is run, the "person" element is configured by running the rule closure. Now let&rsquo;s run a task that does not require the "person" element:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslConfigureRuleNotRunWhenNotRequired"></a><p class="title"><b>Example&nbsp;511.&nbsp;Configuration not run when not required</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle somethingElse</code></strong></p><pre class="screen">&gt; gradle somethingElse
:somethingElse
Not using person

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>In this instance, you can see that the "person" element is not configured at all.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:creation_rules" class="section-anchor" href="#sec:creation_rules"></a>Creation rules</h3></div></div></div><p>It is also possible to create model elements at the root level. The general form of a creation rule is:</p><pre class="programlisting">model {
    &laquo;element-name&raquo;(&laquo;element-type&raquo;) {
        &laquo;initialization code&raquo;
    }
}</pre><p>The following model rule creates the <code class="literal">"person"</code> element:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslCreate"></a><p class="title"><b>Example&nbsp;512.&nbsp;DSL creation rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    person(Person) {
        firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
    }
}
</pre></div></div><br class="example-break"><p>A creation rule definition specifies the path of the element to create, plus its public type, represented as a Java interface or class. Only certain types of model elements can be created.</p><p>A creation rule may also provide a closure containing the initialization code to run when the element is created. The closure is executed with the element passed as the closure delegate. Exactly what code you can provide in the closure depends on the type of the subject. This is discussed below.</p><p>The initialization closure is optional and can be omitted, for example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslCreateNoConfig"></a><p class="title"><b>Example&nbsp;513.&nbsp;DSL creation rule without initialization</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    barry(Person)
}
</pre></div></div><br class="example-break"><p>You should note that the initialization code is not executed immediately but is instead executed only when the element is required. The initialization code is executed before any configuration rules are run. For example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslInitializationRuleRunsBeforeConfigurationRule"></a><p class="title"><b>Example&nbsp;514.&nbsp;Initialization before configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    person {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"configuring person"</span>
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"last name is $lastName, should be Smythe"</span>
        lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smythe"</span>
    }
    person(Person) {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"creating person"</span>
        firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
        lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smith"</span>
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle showPerson</code></strong></p><pre class="screen">&gt; gradle showPerson
creating person
configuring person
last name is Smith, should be Smythe
:showPerson
Hello John Smythe!

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>Notice that the creation rule appears in the build script <span class="emphasis"><em>after</em></span> the configuration rule, but its code runs before the code of the configuration rule. Gradle collects up all the rules for a particular subject before running any of them, then runs the rules in the appropriate order.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:model_rule_closures" class="section-anchor" href="#sec:model_rule_closures"></a>Model rule closures</h3></div></div></div><p>Most DSL rules take a closure containing some code to run to configure the subject. The code you can use in this closure depends on the type of the subject of the rule.</p><div class="tip"><p>You can use the <a class="link" href="software_model.html#model-report">model report</a> to determine the type of a particular model element.</p></div><p>In general, a rule closure may contain arbitrary code, mixed with some type specific DSL syntax.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:modelmap_subject" class="section-anchor" href="#sec:modelmap_subject"></a><code class="literal">ModelMap&lt;T&gt;</code> subject</h4></div></div></div><p>A <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> is basically a map of model elements, indexed by some name. When a <code class="literal">ModelMap</code> is used as the subject of a DSL rule, the rule closure can use any of the methods defined on the <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> interface.</p><p>A rule closure with <code class="literal">ModelMap</code> as a subject can also include nested creation or configuration rules. These behave in a similar way to the creation and configuration rules that appear directly under the <code class="literal">model</code> block.</p><p>Here is an example of a nested creation rule:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslModelMapNestedCreate"></a><p class="title"><b>Example&nbsp;515.&nbsp;Nested DSL creation rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    people {
        john(Person) {
            firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>As before, a nested creation rule defines a name and public type for the element, and optionally, a closure containing code to use to initialize the element. The code is run only when the element is required in the build.</p><p>Here is an example of a nested configuration rule:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslModelMapNestedConfig"></a><p class="title"><b>Example&nbsp;516.&nbsp;Nested DSL configuration rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    people {
        john {
            lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smith"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>As before, a nested configuration rule defines the name of the element to configure and a closure containing code to use to configure the element. The code is run only when the element is required in the build.</p><p><code class="literal">ModelMap</code> introduces several other kinds of rules. For example, you can define a rule that targets each of the elements in the map. The code in the rule closure is executed once for each element in the map, when that element is required. Let&rsquo;s run a task that requires all of the children of the "people" element:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslModelMapNestedAll"></a><p class="title"><b>Example&nbsp;517.&nbsp;DSL configuration rule for each element in a map</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    people {
        john(Person) {
            println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"creating $it"</span>
            firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"John"</span>
            lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Smith"</span>
        }
        all {
            println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"configuring $it"</span>
        }
        barry(Person) {
            println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"creating $it"</span>
            firstName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Barry"</span>
            lastName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Barry"</span>
        }
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle listPeople</code></strong></p><pre class="screen">&gt; gradle listPeople
creating Person 'people.barry'
configuring Person 'people.barry'
creating Person 'people.john'
configuring Person 'people.john'
:listPeople
Hello Barry Barry!
Hello John Smith!

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>Any method on <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> that accepts an <a class="ulink" href="../javadoc/org/gradle/api/Action.html" target="_top"><code class="classname">Action</code></a> as its last parameter can also be used to define a nested rule.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:managed_type_subject" class="section-anchor" href="#sec:managed_type_subject"></a><code class="literal">@Managed</code> type subject</h4></div></div></div><p>When a managed type is used as the subject of a DSL rule, the rule closure can use any of the methods defined on the managed type interface.</p><p>A rule closure can also configure the properties of the element using nested closures. For example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslManagedTypeNestedConfigure"></a><p class="title"><b>Example&nbsp;518.&nbsp;Nested DSL property configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    person {
        address {
            city = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Melbourne"</span>
        }
    }
}
</pre></div></div><br class="example-break"><div class="note"><p>Currently, the nested closures do not define rules and are executed immediately. Please be aware that this behaviour will change in a future Gradle release.</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:all_other_subjects" class="section-anchor" href="#sec:all_other_subjects"></a>All other subjects</h4></div></div></div><p>For all other types, the rule closure can use any of the methods defined by the type. There is no special DSL defined for these elements.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="dsl-type-coercion" class="section-anchor" href="#dsl-type-coercion"></a>Automatic type coercion</h3></div></div></div><p>Scalar properties in managed types can be assigned <code class="literal">CharSequence</code> values (e.g. <code class="literal">String</code>, <code class="literal">GString</code>, etc.) and they will be converted to the actual property type for you. This works for all scalar types including `File`s, which will be resolved relative to the current project.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslConversions"></a><p class="title"><b>Example&nbsp;519.&nbsp;a DSL example showing type conversions</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">enum Temperature {
   TOO_HOT,
   TOO_COLD,
   JUST_RIGHT
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Managed</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">interface</span> Item {
   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setName(String n); String getName()

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setQuantity(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> q); <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">int</span> getQuantity()

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setPrice(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">float</span> p); <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">float</span> getPrice()

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setTemperature(Temperature t)
   Temperature getTemperature()

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setDataFile(File f); File getDataFile()
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ItemRules <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">extends</span> RuleSource {
   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Model</span>
   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> item(Item item) {
      def data = item.dataFile.text.trim()
      def (name, quantity, price, temp) = data.split(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">','</span>)
      item.name = name
      item.quantity = quantity
      item.price = price
      item.temperature = temp
   }

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Defaults</span>
   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setDefaults(Item item) {
      item.dataFile = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'data.csv'</span>
   }

   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span>
   <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> createDataTask(ModelMap&lt;Task&gt; tasks, Item item) {
      tasks.create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'showData'</span>) {
         doLast {
            println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">""</span><span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"
</span>Item <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'$item.name'</span>
   quantity:    $item.quantity
   price:       $item.price
   temperature: $item.temperature<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">""</span><span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"
</span>         }
      }
   }
}

apply plugin: ItemRules

model {
   item {
      price = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${price * (quantity &lt; 10 ? 2 : 0.5)}"</span>
   }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/modelRules/modelDslCoercion</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"><p>In the above example, an <code class="literal">Item</code> is created and is initialized in <code class="literal">setDefaults()</code> by providing the path to the data file. In the <code class="literal">item()</code> method the resolved <code class="literal">File</code> is parsed to extract and set the data. In the DSL block at the end, the price is adjusted based on the quantity; if there are fewer than 10 remaining the price is doubled, otherwise it is reduced by 50%. The <code class="literal">GString</code> expression is a valid value since it resolves to a <code class="literal">float</code> value in string form.</p><p>Finally, in <code class="literal">createDataTask()</code> we add the <code class="literal">showData</code> task to display all of the configured values.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="dsl-rule-input-dependencies" class="section-anchor" href="#dsl-rule-input-dependencies"></a>Declaring input dependencies</h3></div></div></div><p>Rules declared in the DSL may <span class="emphasis"><em>depend</em></span> on other model elements through the use of a special syntax, which is of the form:</p><pre class="programlisting">$.&laquo;path-to-model-element&raquo;</pre><p>Paths are a period separated list of identifiers. To directly depend on the <code class="literal">firstName</code> of the person, the following could be used:</p><pre class="programlisting">$.person.firstName</pre><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="modelDslRuleInputs"></a><p class="title"><b>Example&nbsp;520.&nbsp;a DSL rule using inputs</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    tasks {
        hello(Task) {
            def p = $.person
            doLast {
                println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Hello $p.firstName $p.lastName!"</span>
            }
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/modelRules/modelDsl</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"><p>In the above snippet, the <code class="literal">$.person</code> construct is an input reference. The construct returns the value of the model element at the specified path, as its default type (i.e. the type advertised by the <a class="link" href="software_model.html#model-report">Model Report</a>). It may appear anywhere in the rule that an expression may normally appear. It is not limited to the right hand side of variable assignments.</p><p>The input element is guaranteed to be fully configured before the rule executes. That is, all of the rules that mutate the element are guaranteed to have been previously executed, leaving the target element in its final, immutable, state.</p><p>Most model elements enforce immutability when being used as inputs. Any attempt to mutate such an element will result in a runtime error. However, some legacy type objects do not currently implement such checks. Regardless, it is always invalid to attempt to mutate an input to a rule.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:using_modelmap_as_an_input" class="section-anchor" href="#sec:using_modelmap_as_an_input"></a>Using <code class="literal">ModelMap&lt;T&gt;</code> as an input</h4></div></div></div><p>When you use a <a class="ulink" href="../javadoc/org/gradle/model/ModelMap.html" target="_top"><code class="classname">ModelMap</code></a> as input, each item in the map is made available as a property.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="model-report" class="section-anchor" href="#model-report"></a>The model report</h2></div></div></div><p>The built-in <a class="ulink" href="../dsl/org.gradle.api.reporting.model.ModelReport.html" target="_top"><code class="classname">ModelReport</code></a> task displays a hierarchical view of the elements in the model space. Each item prefixed with a <code class="literal">+</code> on the model report is a model element and the visual nesting of these elements correlates to the model path (e.g. <code class="literal">tasks.help</code>). The model report displays the following details about each model element:</p><div xmlns:xslthl="http://xslthl.sf.net" class="table"><p class="title"><b>Table&nbsp;100.&nbsp;Model report - model element details</b></p><div class="table-contents"><table colsep="1" frame="all" rowsep="1" id="N196ED"><thead><tr>
<td>Detail</td>
<td>Description</td>
</tr></thead><tbody><tr>
<td><p>Type</p></td>
<td><p>This is the underlying type of the model element and is typically a fully qualified class name.</p></td>
</tr><tr>
<td><p>Value</p></td>
<td><p>Is conditionally displayed on the report when a model element can be represented as a string.</p></td>
</tr><tr>
<td><p>Creator</p></td>
<td><p>Every model element has a creator. A creator signifies the origin of the model element (i.e. what created the model element).</p></td>
</tr><tr>
<td><p>Rules</p></td>
<td><p>Is a listing of the rules, excluding the creator rule, which are executed for a given model element. The order in which the rules are displayed reflects the order in which they are executed.</p></td>
</tr></tbody></table></div></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="basicRuleSourcePlugin-model-task"></a><p class="title"><b>Example&nbsp;521.&nbsp;model task output</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle model</code></strong></p><pre class="screen">&gt; gradle model
:model

------------------------------------------------------------
Root project
------------------------------------------------------------

+ person
      | Type:       Person
      | Creator:     PersonRules#person(Person)
      | Rules:
          person { ... } @ build.gradle line 59, column 3
          PersonRules#setFirstName(Person)
    + age
          | Type:       int
          | Value:      0
          | Creator:     PersonRules#person(Person)
    + children
          | Type:       org.gradle.model.ModelSet&lt;Person&gt;
          | Creator:     PersonRules#person(Person)
    + employed
          | Type:       boolean
          | Value:      false
          | Creator:     PersonRules#person(Person)
    + father
          | Type:       Person
          | Value:      null
          | Creator:     PersonRules#person(Person)
    + firstName
          | Type:       java.lang.String
          | Value:      John
          | Creator:     PersonRules#person(Person)
    + homeDirectory
          | Type:       java.io.File
          | Value:      null
          | Creator:     PersonRules#person(Person)
    + id
          | Type:       java.lang.Long
          | Value:      null
          | Creator:     PersonRules#person(Person)
    + lastName
          | Type:       java.lang.String
          | Value:      Smith
          | Creator:     PersonRules#person(Person)
    + maritalStatus
          | Type:       MaritalStatus
          | Creator:     PersonRules#person(Person)
    + mother
          | Type:       Person
          | Value:      null
          | Creator:     PersonRules#person(Person)
    + userGroups
          | Type:       java.util.List&lt;java.lang.String&gt;
          | Value:      null
          | Creator:     PersonRules#person(Person)
+ tasks
      | Type:       org.gradle.model.ModelMap&lt;org.gradle.api.Task&gt;
      | Creator:     Project.&lt;init&gt;.tasks()
      | Rules:
          PersonRules#createHelloTask(ModelMap&lt;Task&gt;, Person)
    + buildEnvironment
          | Type:       org.gradle.api.tasks.diagnostics.BuildEnvironmentReportTask
          | Value:      task ':buildEnvironment'
          | Creator:     tasks.addPlaceholderAction(buildEnvironment)
          | Rules:
              copyToTaskContainer
    + components
          | Type:       org.gradle.api.reporting.components.ComponentReport
          | Value:      task ':components'
          | Creator:     tasks.addPlaceholderAction(components)
          | Rules:
              copyToTaskContainer
    + dependencies
          | Type:       org.gradle.api.tasks.diagnostics.DependencyReportTask
          | Value:      task ':dependencies'
          | Creator:     tasks.addPlaceholderAction(dependencies)
          | Rules:
              copyToTaskContainer
    + dependencyInsight
          | Type:       org.gradle.api.tasks.diagnostics.DependencyInsightReportTask
          | Value:      task ':dependencyInsight'
          | Creator:     tasks.addPlaceholderAction(dependencyInsight)
          | Rules:
              HelpTasksPlugin.Rules#addDefaultDependenciesReportConfiguration(DependencyInsightReportTask, ServiceRegistry)
              copyToTaskContainer
    + dependentComponents
          | Type:       org.gradle.api.reporting.dependents.DependentComponentsReport
          | Value:      task ':dependentComponents'
          | Creator:     tasks.addPlaceholderAction(dependentComponents)
          | Rules:
              copyToTaskContainer
    + hello
          | Type:       org.gradle.api.Task
          | Value:      task ':hello'
          | Creator:     PersonRules#createHelloTask(ModelMap&lt;Task&gt;, Person) &gt; create(hello)
          | Rules:
              copyToTaskContainer
    + help
          | Type:       org.gradle.configuration.Help
          | Value:      task ':help'
          | Creator:     tasks.addPlaceholderAction(help)
          | Rules:
              copyToTaskContainer
    + init
          | Type:       org.gradle.buildinit.tasks.InitBuild
          | Value:      task ':init'
          | Creator:     tasks.addPlaceholderAction(init)
          | Rules:
              copyToTaskContainer
    + model
          | Type:       org.gradle.api.reporting.model.ModelReport
          | Value:      task ':model'
          | Creator:     tasks.addPlaceholderAction(model)
          | Rules:
              copyToTaskContainer
    + projects
          | Type:       org.gradle.api.tasks.diagnostics.ProjectReportTask
          | Value:      task ':projects'
          | Creator:     tasks.addPlaceholderAction(projects)
          | Rules:
              copyToTaskContainer
    + properties
          | Type:       org.gradle.api.tasks.diagnostics.PropertyReportTask
          | Value:      task ':properties'
          | Creator:     tasks.addPlaceholderAction(properties)
          | Rules:
              copyToTaskContainer
    + tasks
          | Type:       org.gradle.api.tasks.diagnostics.TaskReportTask
          | Value:      task ':tasks'
          | Creator:     tasks.addPlaceholderAction(tasks)
          | Rules:
              copyToTaskContainer
    + wrapper
          | Type:       org.gradle.api.tasks.wrapper.Wrapper
          | Value:      task ':wrapper'
          | Creator:     tasks.addPlaceholderAction(wrapper)
          | Rules:
              copyToTaskContainer
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:limitations_and_future_direction" class="section-anchor" href="#sec:limitations_and_future_direction"></a>Limitations and future direction</h2></div></div></div><p>Rule based model configuration is the future of Gradle. This area is fledgling, but under very active development. Early experiments have demonstrated that this approach is more efficient, able to provide richer diagnostics and authoring assistance and is more extensible. However, there are currently many limitations.</p><p>The majority of the development to date has been focused on proving the efficacy of the approach, and building the internal rule execution engine and model graph mechanics. The user facing aspects (e.g the DSL, rule source classes) are yet to be optimized for conciseness and general usability. Likewise, many necessary configuration patterns and constructs are not yet able to be expressed via the API.</p><p>In conjunction with the addition of better syntax, a richer toolkit of configuration constructs and generally more expressive power, more tooling will be added that will enable build engineers and users alike to comprehend, modify and extend builds in new ways.</p><p>Due to the inherent nature of the rule based approach, it is more efficient at constructing the build model than today&rsquo;s Gradle. However, in the future Gradle will also leverage the parallelism that this approach enables both at configuration and execution time. Moreover, due to increased transparency of the model Gradle will be able to further reduce build times by caching and pre-computing the build model. Beyond improved general build performance, this will greatly improve the experience when using Gradle from tools such as IDEs.</p><p>As this area of Gradle is under active development, it will be changing rapidly. Please be sure to consult the documentation of Gradle corresponding to the version you are using and to watch for changes announced in the release notes for future versions.</p></div></div><aside class="secondary-navigation"></aside></main><footer xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPFooter" itemscope="itemscope" class="site-layout__footer site-footer"><nav itemtype="https://schema.org/SiteNavigationElement" class="site-footer__navigation"><section class="site-footer__links"><div class="site-footer__link-group"><header><strong>Docs</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="/userguide/userguide.html">User Manual</a></li><li itemprop="name"><a itemprop="url" href="/dsl/">DSL Reference</a></li><li itemprop="name"><a itemprop="url" href="/release-notes.html">Release Notes</a></li><li itemprop="name"><a itemprop="url" href="/javadoc/">Javadoc</a></li></ul></div><div class="site-footer__link-group"><header><strong>News</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://blog.gradle.org/">Blog</a></li><li itemprop="name"><a itemprop="url" href="https://newsletter.gradle.com/">Newsletter</a></li><li itemprop="name"><a itemprop="url" href="https://twitter.com/gradle">Twitter</a></li></ul></div><div class="site-footer__link-group"><header><strong>Products</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-scans">Build Scans</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-cache">Build Cache</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/enterprise/resources">Enterprise Docs</a></li></ul></div><div class="site-footer__link-group"><header><strong>Get Help</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://discuss.gradle.org/c/help-discuss">Forums</a></li><li itemprop="name"><a itemprop="url" href="https://github.com/gradle/">GitHub</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/training/">Training</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/services/">Services</a></li></ul></div></section><section class="site-footer__subscribe-newsletter"><p>Subscribe for important Gradle updates and news</p><form method="post" action="https://go.pardot.com/l/68052/2017-12-01/b8dh7j" class="newsletter-form" id="newsletter-form"><input required="" maxlength="255" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" placeholder="name@email.com" type="email" name="email" class="email" id="email"><button type="submit" class="submit" id="submit">Subscribe</button></form></section></nav><div class="site-footer-secondary"><div class="site-footer-secondary__contents"><div class="site-footer__copy">&copy; <a href="https://gradle.com">Gradle Inc.</a><time>2018</time> All rights reserved.</div><div class="site-footer__logo"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" class="logo-icon" viewBox="0 0 40 40" height="40" width="40"><g style="fill:none;opacity:0.7"><g fill="#11272E"><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/></g></g></svg></a></div><div class="site-footer-secondary__links"><a href="https://gradle.com/careers">Careers</a> |
                        <a href="https://gradle.org/privacy">Privacy</a> |
                        <a href="https://gradle.org/terms">Terms of Service</a> |
                        <a href="https://gradle.org/contact/">Contact</a></div></div></div></footer><script type="text/javascript">
                    // Polyfill Element.matches()
                    if (!Element.prototype.matches) {
                        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
                    }
                    // Polyfill Element.closest()
                    if (!Element.prototype.closest) {
                        Element.prototype.closest = function(s) {
                            var el = this;
                            if (!document.documentElement.contains(el)) return null;
                            do {
                                if (typeof el.matches === "function" && el.matches(s)) return el;
                                el = el.parentElement || el.parentNode;
                            } while (el !== null);
                            return null;
                        };
                    }
                    [].forEach.call(document.querySelectorAll(".docs-navigation a[href$='"+ window.location.pathname +"']"), function(link) {
                        // Add "active" to all links same as current URL
                        link.classList.add("active");

                        // Expand all parent navigation
                        var parentListEl = link.closest("li");
                        while (parentListEl !== null) {
                            var dropDownEl = parentListEl.querySelector(".nav-dropdown");
                            if (dropDownEl !== null) {
                                dropDownEl.classList.add("expanded");
                            }
                            parentListEl = parentListEl.parentNode.closest("li");
                        }
                    });

                    // Expand/contract multi-level side navigation
                    [].forEach.call(document.querySelectorAll(".docs-navigation .nav-dropdown"), function registerSideNavActions(collapsibleElement) {
                        collapsibleElement.addEventListener("click", function toggleExpandedSideNav(evt) {
                            evt.preventDefault();
                            evt.target.classList.toggle("expanded");
                            evt.target.setAttribute("aria-expanded", evt.target.classList.contains("expanded").toString());
                            return false;
                        }, false);
                    });
                </script></body></html>