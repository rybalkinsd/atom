<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Building native software - Gradle User Manual</title><link xmlns:xslthl="http://xslthl.sf.net" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400i,700"><link xmlns:xslthl="http://xslthl.sf.net" crossorigin="crossorigin" href="//assets.gradle.com" rel="preconnect"><meta xmlns:xslthl="http://xslthl.sf.net" content="width=device-width, initial-scale=1" name="viewport"><link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="base.css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="userguide.html" title="Gradle User Manual"><link rel="up" href="pt07.html" title="The Software model"></head><body><header xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPHeader" itemscope="itemscope" class="site-layout__header site-header"><nav itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope" class="site-header__navigation"><div class="site-header__navigation-header"><a title="Gradle Docs" href="https://docs.gradle.org" class="logo" target="_top"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 191 43" height="36px" width="160px"><g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none"><g><path fill="#02303A" id="Fill-9" d="M46.678556,7.70171633 C45.120512,4.8834998 42.335823,4.04123121 40.3684979,4.00130115 C37.9547479,3.9523229 35.9723457,5.29706115 36.3472787,6.1798499 C36.427757,6.36937016 36.8802727,7.35867186 37.1580527,7.76702066 C37.5601446,8.35790689 38.2799562,7.90392373 38.5320749,7.76908601 C39.2849364,7.36653985 40.0895198,7.23622623 41.0021397,7.34323092 C41.8745205,7.44551482 43.033468,7.9864393 43.8109923,9.4893242 C45.6407254,13.0263802 39.9923667,20.3060435 32.9221581,15.2649224 C25.8518496,10.2238013 18.9763466,11.8941761 15.8634538,12.9102289 C12.7506609,13.9260851 11.3198246,14.9477439 12.5498645,17.3104037 C14.2214368,20.5211347 13.6673747,19.5359637 15.2882237,22.1937715 C17.8627305,26.4150478 23.4981089,20.2511642 23.4981089,20.2511642 C19.3000571,26.4766148 15.7013989,24.9724514 14.3210861,22.7961647 C13.0771672,20.8346742 12.1106287,18.5733148 12.1106287,18.5733148 C1.47790725,22.3458205 4.35465711,39 4.35465711,39 L9.63497235,39 C10.9812366,32.8678834 15.794558,33.0939899 16.6195105,39 L20.6486178,39 C24.2119295,27.0258991 33.2432725,39 33.2432725,39 L38.4954303,39 C37.0244547,30.8318437 41.4498627,28.2655996 44.2387454,23.4777295 C47.0279277,18.6894661 49.6699325,12.8318441 46.678556,7.70171633 L46.678556,7.70171633 Z M33.1312419,23.4719269 C30.3544409,22.5602233 31.347639,19.7803632 31.347639,19.7803632 C31.347639,19.7803632 33.772672,20.5692278 37.0530115,21.6459626 C36.864197,22.5081962 35.2324645,24.1619498 33.1312419,23.4719269 L33.1312419,23.4719269 Z"/><path fill="#00303A" id="Fill-10" d="M35.9919757,21.336932 C36.0769161,22.1603228 35.477836,22.9008903 34.6537814,22.990975 C33.8297268,23.0810597 33.0929635,22.486564 33.0080231,21.663068 C32.9230827,20.8396772 33.5222651,20.0991097 34.3462175,20.009025 C35.1702721,19.9189403 35.9071376,20.513436 35.9919757,21.336932"/><path fill="#02303A" d="M72.236,22.3 L72.236,29.32 C71.3559956,29.9680032 70.418005,30.4419985 69.422,30.742 C68.425995,31.0420015 67.3600057,31.192 66.224,31.192 C64.8079929,31.192 63.5260057,30.9720022 62.378,30.532 C61.2299943,30.0919978 60.2500041,29.4800039 59.438,28.696 C58.6259959,27.9119961 58.0000022,26.9760054 57.56,25.888 C57.1199978,24.7999946 56.9,23.6120064 56.9,22.324 C56.9,21.0199935 57.1119979,19.8240054 57.536,18.736 C57.9600021,17.6479946 58.5619961,16.7120039 59.342,15.928 C60.1220039,15.1439961 61.0679944,14.5360022 62.18,14.104 C63.2920056,13.6719978 64.5399931,13.456 65.924,13.456 C66.6280035,13.456 67.2859969,13.5119994 67.898,13.624 C68.5100031,13.7360006 69.0779974,13.889999 69.602,14.086 C70.1260026,14.282001 70.6039978,14.5199986 71.036,14.8 C71.4680022,15.0800014 71.8639982,15.3879983 72.224,15.724 L71.3,17.188 C71.1559993,17.4200012 70.9680012,17.5619997 70.736,17.614 C70.5039988,17.6660003 70.2520014,17.6080008 69.98,17.44 L69.188,16.984 C68.9239987,16.8319992 68.6300016,16.7000006 68.306,16.588 C67.9819984,16.4759994 67.618002,16.3840004 67.214,16.312 C66.809998,16.2399996 66.3440026,16.204 65.816,16.204 C64.9599957,16.204 64.1860035,16.3479986 63.494,16.636 C62.8019965,16.9240014 62.2120024,17.3359973 61.724,17.872 C61.2359976,18.4080027 60.8600013,19.0519962 60.596,19.804 C60.3319987,20.5560038 60.2,21.3959954 60.2,22.324 C60.2,23.316005 60.3419986,24.2019961 60.626,24.982 C60.9100014,25.7620039 61.3099974,26.4219973 61.826,26.962 C62.3420026,27.5020027 62.9639964,27.9139986 63.692,28.198 C64.4200036,28.4820014 65.2319955,28.624 66.128,28.624 C66.7680032,28.624 67.3399975,28.5560007 67.844,28.42 C68.3480025,28.2839993 68.8399976,28.1000012 69.32,27.868 L69.32,24.724 L67.136,24.724 C66.927999,24.724 66.7660006,24.6660006 66.65,24.55 C66.5339994,24.4339994 66.476,24.2920008 66.476,24.124 L66.476,22.3 L72.236,22.3 Z M77.504,20.824 C77.8880019,20.0879963 78.3439974,19.5100021 78.872,19.09 C79.4000026,18.6699979 80.0239964,18.46 80.744,18.46 C81.3120028,18.46 81.7679983,18.5839988 82.112,18.832 L81.92,21.052 C81.8799998,21.1960007 81.8220004,21.2979997 81.746,21.358 C81.6699996,21.4180003 81.5680006,21.448 81.44,21.448 C81.3199994,21.448 81.1420012,21.4280002 80.906,21.388 C80.6699988,21.3479998 80.4400011,21.328 80.216,21.328 C79.8879984,21.328 79.5960013,21.3759995 79.34,21.472 C79.0839987,21.5680005 78.854001,21.7059991 78.65,21.886 C78.445999,22.0660009 78.2660008,22.2839987 78.11,22.54 C77.9539992,22.7960013 77.8080007,23.0879984 77.672,23.416 L77.672,31 L74.708,31 L74.708,18.688 L76.448,18.688 C76.7520015,18.688 76.9639994,18.7419995 77.084,18.85 C77.2040006,18.9580005 77.2839998,19.1519986 77.324,19.432 L77.504,20.824 Z M90.008,25.744 C89.1519957,25.7840002 88.4320029,25.8579995 87.848,25.966 C87.2639971,26.0740005 86.7960018,26.2119992 86.444,26.38 C86.0919982,26.5480008 85.8400008,26.7439989 85.688,26.968 C85.5359992,27.1920011 85.46,27.4359987 85.46,27.7 C85.46,28.2200026 85.6139985,28.5919989 85.922,28.816 C86.2300015,29.0400011 86.6319975,29.152 87.128,29.152 C87.736003,29.152 88.2619978,29.0420011 88.706,28.822 C89.1500022,28.6019989 89.5839979,28.2680022 90.008,27.82 L90.008,25.744 Z M83.216,20.404 C84.6320071,19.1079935 86.33599,18.46 88.328,18.46 C89.0480036,18.46 89.6919972,18.5779988 90.26,18.814 C90.8280028,19.0500012 91.307998,19.3779979 91.7,19.798 C92.092002,20.2180021 92.389999,20.7199971 92.594,21.304 C92.798001,21.8880029 92.9,22.5279965 92.9,23.224 L92.9,31 L91.556,31 C91.2759986,31 91.0600008,30.9580004 90.908,30.874 C90.7559992,30.7899996 90.6360004,30.6200013 90.548,30.364 L90.284,29.476 C89.9719984,29.7560014 89.6680015,30.0019989 89.372,30.214 C89.0759985,30.4260011 88.7680016,30.6039993 88.448,30.748 C88.1279984,30.8920007 87.7860018,31.0019996 87.422,31.078 C87.0579982,31.1540004 86.6560022,31.192 86.216,31.192 C85.6959974,31.192 85.2160022,31.1220007 84.776,30.982 C84.3359978,30.8419993 83.9560016,30.6320014 83.636,30.352 C83.3159984,30.0719986 83.0680009,29.7240021 82.892,29.308 C82.7159991,28.8919979 82.628,28.4080028 82.628,27.856 C82.628,27.5439984 82.6799995,27.2340015 82.784,26.926 C82.8880005,26.6179985 83.0579988,26.3240014 83.294,26.044 C83.5300012,25.7639986 83.8359981,25.5000012 84.212,25.252 C84.5880019,25.0039988 85.0499973,24.7880009 85.598,24.604 C86.1460027,24.4199991 86.7839964,24.2700006 87.512,24.154 C88.2400036,24.0379994 89.0719953,23.9680001 90.008,23.944 L90.008,23.224 C90.008,22.3999959 89.8320018,21.790002 89.48,21.394 C89.1279982,20.997998 88.6200033,20.8 87.956,20.8 C87.4759976,20.8 87.0780016,20.8559994 86.762,20.968 C86.4459984,21.0800006 86.1680012,21.2059993 85.928,21.346 C85.6879988,21.4860007 85.470001,21.6119994 85.274,21.724 C85.077999,21.8360006 84.8600012,21.892 84.62,21.892 C84.411999,21.892 84.2360007,21.8380005 84.092,21.73 C83.9479993,21.6219995 83.8320004,21.4960007 83.744,21.352 L83.216,20.404 Z M103.412,21.832 C103.075998,21.423998 102.710002,21.1360008 102.314,20.968 C101.917998,20.7999992 101.492002,20.716 101.036,20.716 C100.587998,20.716 100.184002,20.7999992 99.824,20.968 C99.4639982,21.1360008 99.1560013,21.3899983 98.9,21.73 C98.6439987,22.0700017 98.4480007,22.5019974 98.312,23.026 C98.1759993,23.5500026 98.108,24.1679964 98.108,24.88 C98.108,25.6000036 98.1659994,26.2099975 98.282,26.71 C98.3980006,27.2100025 98.5639989,27.6179984 98.78,27.934 C98.9960011,28.2500016 99.2599984,28.4779993 99.572,28.618 C99.8840016,28.7580007 100.231998,28.828 100.616,28.828 C101.232003,28.828 101.755998,28.7000013 102.188,28.444 C102.620002,28.1879987 103.027998,27.8240024 103.412,27.352 L103.412,21.832 Z M106.376,13.168 L106.376,31 L104.564,31 C104.171998,31 103.924001,30.8200018 103.82,30.46 L103.568,29.272 C103.071998,29.8400028 102.502003,30.2999982 101.858,30.652 C101.213997,31.0040018 100.464004,31.18 99.608,31.18 C98.9359966,31.18 98.3200028,31.0400014 97.76,30.76 C97.1999972,30.4799986 96.718002,30.0740027 96.314,29.542 C95.909998,29.0099973 95.5980011,28.3520039 95.378,27.568 C95.1579989,26.7839961 95.048,25.888005 95.048,24.88 C95.048,23.9679954 95.1719988,23.1200039 95.42,22.336 C95.6680012,21.5519961 96.0239977,20.8720029 96.488,20.296 C96.9520023,19.7199971 97.5079968,19.2700016 98.156,18.946 C98.8040032,18.6219984 99.531996,18.46 100.34,18.46 C101.028003,18.46 101.615998,18.5679989 102.104,18.784 C102.592002,19.0000011 103.027998,19.2919982 103.412,19.66 L103.412,13.168 L106.376,13.168 Z M112.304,13.168 L112.304,31 L109.34,31 L109.34,13.168 L112.304,13.168 Z M123.2,23.428 C123.2,23.0439981 123.146001,22.6820017 123.038,22.342 C122.929999,22.0019983 122.768001,21.7040013 122.552,21.448 C122.335999,21.1919987 122.062002,20.9900007 121.73,20.842 C121.397998,20.6939993 121.012002,20.62 120.572,20.62 C119.715996,20.62 119.042002,20.8639976 118.55,21.352 C118.057998,21.8400024 117.744001,22.5319955 117.608,23.428 L123.2,23.428 Z M117.548,25.216 C117.596,25.8480032 117.707999,26.3939977 117.884,26.854 C118.060001,27.3140023 118.291999,27.6939985 118.58,27.994 C118.868001,28.2940015 119.209998,28.5179993 119.606,28.666 C120.002002,28.8140007 120.439998,28.888 120.92,28.888 C121.400002,28.888 121.813998,28.8320006 122.162,28.72 C122.510002,28.6079994 122.813999,28.4840007 123.074,28.348 C123.334001,28.2119993 123.561999,28.0880006 123.758,27.976 C123.954001,27.8639994 124.143999,27.808 124.328,27.808 C124.576001,27.808 124.759999,27.8999991 124.88,28.084 L125.732,29.164 C125.403998,29.5480019 125.036002,29.8699987 124.628,30.13 C124.219998,30.3900013 123.794002,30.5979992 123.35,30.754 C122.905998,30.9100008 122.454002,31.0199997 121.994,31.084 C121.533998,31.1480003 121.088002,31.18 120.656,31.18 C119.799996,31.18 119.004004,31.0380014 118.268,30.754 C117.531996,30.4699986 116.892003,30.0500028 116.348,29.494 C115.803997,28.9379972 115.376002,28.2500041 115.064,27.43 C114.751998,26.6099959 114.596,25.6600054 114.596,24.58 C114.596,23.7399958 114.731999,22.9500037 115.004,22.21 C115.276001,21.4699963 115.665997,20.8260027 116.174,20.278 C116.682003,19.7299973 117.301996,19.2960016 118.034,18.976 C118.766004,18.6559984 119.591995,18.496 120.512,18.496 C121.288004,18.496 122.003997,18.6199988 122.66,18.868 C123.316003,19.1160012 123.879998,19.4779976 124.352,19.954 C124.824002,20.4300024 125.193999,21.0139965 125.462,21.706 C125.730001,22.3980035 125.864,23.1879956 125.864,24.076 C125.864,24.5240022 125.816,24.8259992 125.72,24.982 C125.624,25.1380008 125.440001,25.216 125.168,25.216 L117.548,25.216 Z M149.576,22.504 C149.576,23.8160066 149.380002,24.9959948 148.988,26.044 C148.595998,27.0920052 148.044004,27.9839963 147.332,28.72 C146.619996,29.4560037 145.766005,30.019998 144.77,30.412 C143.773995,30.804002 142.676006,31 141.476,31 L135.272,31 L135.272,14.02 L141.476,14.02 C142.676006,14.02 143.773995,14.215998 144.77,14.608 C145.766005,15.000002 146.619996,15.5639963 147.332,16.3 C148.044004,17.0360037 148.595998,17.9279948 148.988,18.976 C149.380002,20.0240052 149.576,21.1999935 149.576,22.504 Z M148.304,22.504 C148.304,21.3199941 148.140002,20.2640046 147.812,19.336 C147.483998,18.4079954 147.020003,17.6240032 146.42,16.984 C145.819997,16.3439968 145.100004,15.8560017 144.26,15.52 C143.419996,15.1839983 142.492005,15.016 141.476,15.016 L136.508,15.016 L136.508,30.004 L141.476,30.004 C142.492005,30.004 143.419996,29.8360017 144.26,29.5 C145.100004,29.1639983 145.819997,28.6760032 146.42,28.036 C147.020003,27.3959968 147.483998,26.6120046 147.812,25.684 C148.140002,24.7559954 148.304,23.696006 148.304,22.504 Z M157.52,18.868 C158.376004,18.868 159.141997,19.0139985 159.818,19.306 C160.494003,19.5980015 161.063998,20.0119973 161.528,20.548 C161.992002,21.0840027 162.345999,21.7299962 162.59,22.486 C162.834001,23.2420038 162.956,24.0879953 162.956,25.024 C162.956,25.9600047 162.834001,26.8039962 162.59,27.556 C162.345999,28.3080038 161.992002,28.9519973 161.528,29.488 C161.063998,30.0240027 160.494003,30.4359986 159.818,30.724 C159.141997,31.0120014 158.376004,31.156 157.52,31.156 C156.663996,31.156 155.898003,31.0120014 155.222,30.724 C154.545997,30.4359986 153.974002,30.0240027 153.506,29.488 C153.037998,28.9519973 152.682001,28.3080038 152.438,27.556 C152.193999,26.8039962 152.072,25.9600047 152.072,25.024 C152.072,24.0879953 152.193999,23.2420038 152.438,22.486 C152.682001,21.7299962 153.037998,21.0840027 153.506,20.548 C153.974002,20.0119973 154.545997,19.5980015 155.222,19.306 C155.898003,19.0139985 156.663996,18.868 157.52,18.868 Z M157.52,30.256 C158.232004,30.256 158.853997,30.1340012 159.386,29.89 C159.918003,29.6459988 160.361998,29.2960023 160.718,28.84 C161.074002,28.3839977 161.339999,27.8340032 161.516,27.19 C161.692001,26.5459968 161.78,25.824004 161.78,25.024 C161.78,24.231996 161.692001,23.5120032 161.516,22.864 C161.339999,22.2159968 161.074002,21.6620023 160.718,21.202 C160.361998,20.7419977 159.918003,20.3880012 159.386,20.14 C158.853997,19.8919988 158.232004,19.768 157.52,19.768 C156.807996,19.768 156.186003,19.8919988 155.654,20.14 C155.121997,20.3880012 154.678002,20.7419977 154.322,21.202 C153.965998,21.6620023 153.698001,22.2159968 153.518,22.864 C153.337999,23.5120032 153.248,24.231996 153.248,25.024 C153.248,25.824004 153.337999,26.5459968 153.518,27.19 C153.698001,27.8340032 153.965998,28.3839977 154.322,28.84 C154.678002,29.2960023 155.121997,29.6459988 155.654,29.89 C156.186003,30.1340012 156.807996,30.256 157.52,30.256 Z M174.212,20.656 C174.172,20.6960002 174.134,20.7299999 174.098,20.758 C174.062,20.7860001 174.012,20.8 173.948,20.8 C173.868,20.8 173.760001,20.7460005 173.624,20.638 C173.487999,20.5299995 173.304001,20.4120006 173.072,20.284 C172.839999,20.1559994 172.550002,20.0380005 172.202,19.93 C171.853998,19.8219995 171.432002,19.768 170.936,19.768 C170.247997,19.768 169.638003,19.8899988 169.106,20.134 C168.573997,20.3780012 168.124002,20.7279977 167.756,21.184 C167.387998,21.6400023 167.110001,22.1919968 166.922,22.84 C166.733999,23.4880032 166.64,24.215996 166.64,25.024 C166.64,25.8640042 166.737999,26.6079968 166.934,27.256 C167.130001,27.9040032 167.407998,28.4499978 167.768,28.894 C168.128002,29.3380022 168.563997,29.6759988 169.076,29.908 C169.588003,30.1400012 170.155997,30.256 170.78,30.256 C171.356003,30.256 171.837998,30.1880007 172.226,30.052 C172.614002,29.9159993 172.933999,29.7680008 173.186,29.608 C173.438001,29.4479992 173.635999,29.3000007 173.78,29.164 C173.924001,29.0279993 174.044,28.96 174.14,28.96 C174.236,28.96 174.316,28.9999996 174.38,29.08 L174.68,29.464 C174.495999,29.7040012 174.264001,29.927999 173.984,30.136 C173.703999,30.344001 173.388002,30.5239992 173.036,30.676 C172.683998,30.8280008 172.302002,30.9459996 171.89,31.03 C171.477998,31.1140004 171.048002,31.156 170.6,31.156 C169.839996,31.156 169.146003,31.0180014 168.518,30.742 C167.889997,30.4659986 167.350002,30.0660026 166.898,29.542 C166.445998,29.0179974 166.094001,28.3760038 165.842,27.616 C165.589999,26.8559962 165.464,25.9920048 165.464,25.024 C165.464,24.1119954 165.583999,23.2800038 165.824,22.528 C166.064001,21.7759962 166.415998,21.1280027 166.88,20.584 C167.344002,20.0399973 167.909997,19.6180015 168.578,19.318 C169.246003,19.0179985 170.011996,18.868 170.876,18.868 C171.652004,18.868 172.339997,18.9919988 172.94,19.24 C173.540003,19.4880012 174.063998,19.8239979 174.512,20.248 L174.212,20.656 Z M184.064,20.536 C184,20.6480006 183.908001,20.704 183.788,20.704 C183.7,20.704 183.588001,20.6540005 183.452,20.554 C183.315999,20.4539995 183.134001,20.3420006 182.906,20.218 C182.677999,20.0939994 182.396002,19.9820005 182.06,19.882 C181.723998,19.7819995 181.316002,19.732 180.836,19.732 C180.403998,19.732 180.010002,19.7939994 179.654,19.918 C179.297998,20.0420006 178.994001,20.207999 178.742,20.416 C178.489999,20.624001 178.296001,20.8659986 178.16,21.142 C178.023999,21.4180014 177.956,21.7079985 177.956,22.012 C177.956,22.3880019 178.051999,22.6999988 178.244,22.948 C178.436001,23.1960012 178.685998,23.4079991 178.994,23.584 C179.302002,23.7600009 179.655998,23.9119994 180.056,24.04 C180.456002,24.1680006 180.861998,24.2959994 181.274,24.424 C181.686002,24.5520006 182.091998,24.6939992 182.492,24.85 C182.892002,25.0060008 183.245998,25.1999988 183.554,25.432 C183.862002,25.6640012 184.111999,25.9479983 184.304,26.284 C184.496001,26.6200017 184.592,27.0279976 184.592,27.508 C184.592,28.0280026 184.500001,28.5119978 184.316,28.96 C184.131999,29.4080022 183.862002,29.7959984 183.506,30.124 C183.149998,30.4520016 182.712003,30.711999 182.192,30.904 C181.671997,31.096001 181.076003,31.192 180.404,31.192 C179.563996,31.192 178.840003,31.0580013 178.232,30.79 C177.623997,30.5219987 177.080002,30.1720022 176.6,29.74 L176.864,29.332 C176.904,29.2679997 176.95,29.2200002 177.002,29.188 C177.054,29.1559998 177.124,29.14 177.212,29.14 C177.316001,29.14 177.441999,29.2039994 177.59,29.332 C177.738001,29.4600006 177.935999,29.5979993 178.184,29.746 C178.432001,29.8940007 178.737998,30.0319994 179.102,30.16 C179.466002,30.2880006 179.915997,30.352 180.452,30.352 C180.956003,30.352 181.399998,30.2820007 181.784,30.142 C182.168002,30.0019993 182.487999,29.8120012 182.744,29.572 C183.000001,29.3319988 183.193999,29.0500016 183.326,28.726 C183.458001,28.4019984 183.524,28.0600018 183.524,27.7 C183.524,27.299998 183.428001,26.9680013 183.236,26.704 C183.043999,26.4399987 182.792002,26.2160009 182.48,26.032 C182.167998,25.8479991 181.814002,25.6920006 181.418,25.564 C181.021998,25.4359994 180.616002,25.3080006 180.2,25.18 C179.783998,25.0519994 179.378002,24.9120008 178.982,24.76 C178.585998,24.6079992 178.232002,24.4160012 177.92,24.184 C177.607998,23.9519988 177.356001,23.6700017 177.164,23.338 C176.971999,23.0059983 176.876,22.5920025 176.876,22.096 C176.876,21.6719979 176.967999,21.264002 177.152,20.872 C177.336001,20.479998 177.597998,20.1360015 177.938,19.84 C178.278002,19.5439985 178.691998,19.3080009 179.18,19.132 C179.668002,18.9559991 180.215997,18.868 180.824,18.868 C181.552004,18.868 182.197997,18.971999 182.762,19.18 C183.326003,19.388001 183.839998,19.7079978 184.304,20.14 L184.064,20.536 Z"/></g></g></svg></a><div class="site-header-version">4.5.1</div><button class="site-header__navigation-button hamburger" aria-label="Navigation Menu" type="button"><span class="hamburger__bar"></span><span class="hamburger__bar"></span><span class="hamburger__bar"></span></button></div><div class="site-header__navigation-collapsible site-header__navigation-collapsible--collapse"><ul class="site-header__navigation-items"><li tabindex="0" class="site-header__navigation-item site-header__navigation-submenu-section"><span class="site-header__navigation-link">
                                Docs
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 11" height="11" width="19" class="site-header__down-arrow site-header__icon-light"><title>Open Docs Menu</title><path stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="1.5" stroke="#02303A" d="M17.9991 10.422825L9.3741 0.565575 0.7491 10.422825" transform="rotate(-180 9.374 5.494)"/></svg></span><div class="site-header__navigation-submenu"><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/userguide/userguide.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">User Manual</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="https://guides.gradle.org" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Guides and Tutorials</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/dsl/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">DSL Reference</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/javadoc/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Javadoc</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/release-notes.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Release Notes</span></a></div></div></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://discuss.gradle.org/" class="site-header__navigation-link" target="_top">Forums</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.org/training/" class="site-header__navigation-link" target="_top">Training</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.com/enterprise" class="site-header__navigation-link" target="_top">Enterprise</a></li></ul></div></nav></header><main class="main-content"><nav class="docs-navigation"><ul><li><a href="/userguide/userguide.html">User Manual Home</a></li><li><a href="/dsl/">DSL Reference Home</a></li><li><a href="/release-notes.html">Release Notes</a></li></ul><h3 id="getting-started">Getting Started</h3><ul><li><a href="/userguide/installation.html">Installing Gradle</a></li><li><a href="https://guides.gradle.org/creating-new-gradle-builds/">Creating a New Gradle Build</a></li><li><a href="https://guides.gradle.org/creating-build-scans/">Creating Build Scans</a></li><li><a href="https://guides.gradle.org/migrating-from-maven/">Migrating from Maven</a></li></ul><h3 id="using-gradle-builds">Using Gradle Builds</h3><ul><li><a href="/userguide/command_line_interface.html">Command-Line Interface</a></li><li><a href="/userguide/gradle_wrapper.html">Gradle Wrapper</a></li><li><a href="https://docs.gradle.com/build-scan-plugin">Build Scans</a></li><li><a href="/userguide/build_environment.html">Build Environment</a></li><li><a href="/userguide/init_scripts.html">Initialization Scripts</a></li><li><a href="/userguide/intro_multi_project_builds.html">Multi-Project Builds</a></li><li><a href="/userguide/build_cache.html">Build Cache</a></li><li><a href="/userguide/composite_builds.html">Composite Builds</a></li><li><a href="/userguide/continuous_build.html">Continuous Build</a></li><li><a href="/userguide/gradle_daemon.html">Daemon</a></li><li><a href="/userguide/troubleshooting.html">Troubleshooting</a></li><li><a href="/userguide/embedding.html">Embedding Gradle</a></li></ul><h3 id="writing-gradle-builds">Authoring Gradle Builds</h3><ul><li><a aria-controls="building-jvm-projects" aria-expanded="false" href="#building-jvm-projects" data-toggle="collapse" class="nav-dropdown">JVM Projects</a><ul id="building-jvm-projects"><li><a aria-controls="java-tutorials" aria-expanded="false" href="#java-tutorials" data-toggle="collapse" class="nav-dropdown">JVM Tutorials</a><ul id="java-tutorials"><li><a href="https://guides.gradle.org/building-groovy-libraries/">Building Groovy Libraries</a></li><li><a href="https://guides.gradle.org/building-java-libraries/">Building Java Libraries</a></li><li><a href="https://guides.gradle.org/building-java-9-modules/">Building Java 9 Modules</a></li><li><a href="https://guides.gradle.org/building-java-applications/">Building Java Applications</a></li><li><a href="https://guides.gradle.org/building-java-web-applications/">Building Java Web Applications</a></li><li><a href="https://guides.gradle.org/building-kotlin-jvm-libraries/">Building Kotlin JVM Libraries</a></li><li><a href="https://guides.gradle.org/building-scala-libraries/">Building Scala Libraries</a></li><li><a href="https://guides.gradle.org/consuming-jvm-libraries/">Consuming JVM Libraries</a></li><li><a href="https://guides.gradle.org/creating-multi-project-builds/">Creating Multi-project Builds</a></li><li><a href="/userguide/tutorial_groovy_projects.html">Groovy Quickstart</a></li><li><a href="/userguide/tutorial_java_projects.html">Java Quickstart</a></li><li><a href="/userguide/web_project_tutorial.html">Web Application Quickstart</a></li><li><a href="https://guides.gradle.org/writing-gradle-tasks/">Writing Custom Script Tasks</a></li><li><a href="/userguide/custom_tasks.html">Writing Custom Task Classes</a></li><li><a href="/userguide/artifact_dependencies_tutorial.html">Dependency Management for Java Projects</a></li></ul></li><li><a aria-controls="java-plugins-reference" aria-expanded="false" href="#java-plugins-reference" data-toggle="collapse" class="nav-dropdown">Plugins Reference</a><ul id="java-plugins-reference"><li><a href="/userguide/antlr_plugin.html">ANTLR Plugin</a></li><li><a href="/userguide/application_plugin.html">Application Plugin</a></li><li><a href="/userguide/checkstyle_plugin.html">Checkstyle Plugin</a></li><li><a href="/userguide/codenarc_plugin.html">CodeNarc Plugin</a></li><li><a href="/userguide/ear_plugin.html">EAR Plugin</a></li><li><a href="/userguide/eclipse_plugin.html">Eclipse Plugin</a></li><li><a href="/userguide/findbugs_plugin.html">FindBugs Plugin</a></li><li><a href="/userguide/groovy_plugin.html">Groovy Plugin</a></li><li><a href="/userguide/idea_plugin.html">IDEA Plugin</a></li><li><a href="/userguide/jacoco_plugin.html">JaCoCo Plugin</a></li><li><a href="/userguide/java_plugin.html">Java Plugin</a></li><li><a href="/userguide/java_library_plugin.html">Java Library Plugin</a></li><li><a href="/userguide/java_library_distribution_plugin.html">Java Library Distribution Plugin</a></li><li><a href="/userguide/java_software.html">Java Software Model</a></li><li><a href="/userguide/jetty_plugin.html">Jetty Plugin</a></li><li><a href="/userguide/jdepend_plugin.html">JDepend Plugin</a></li><li><a href="/userguide/osgi_plugin.html">OSGi Plugin</a></li><li><a href="/userguide/play_plugin.html">Play Plugin</a></li><li><a href="/userguide/project_report_plugin.html">Project Report Plugin</a></li><li><a href="/userguide/pmd_plugin.html">PMD Plugin</a></li><li><a href="/userguide/scala_plugin.html">Scala Plugin</a></li><li><a href="/userguide/war_plugin.html">WAR Plugin</a></li></ul></li><li><a href="/userguide/ant.html">Using Ant from Gradle</a></li></ul></li><li><a aria-controls="building-native-projects" aria-expanded="false" href="#building-cpp-projects" data-toggle="collapse" class="nav-dropdown">C++ Projects</a><ul id="building-cpp-projects"><li><a aria-controls="cpp-tutorials" aria-expanded="false" href="#cpp-tutorials" data-toggle="collapse" class="nav-dropdown">C++ Tutorials</a><ul id="cpp-tutorials"><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Executables</a></li><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Libraries</a></li></ul></li><li><a href="/userguide/native_software.html">Building Native Software</a></li><li><a href="/userguide/software_model_concepts.html">Software Model Concepts</a></li><li><a href="/userguide/software_model.html">Rule-based Model Configuration</a></li><li><a href="/userguide/rule_source.html">Implementing Model Rules in a Plugin</a></li><li><a href="/userguide/software_model_extend.html">Extending the Software Model</a></li></ul></li><li><a aria-controls="building-android-projects" aria-expanded="false" href="#building-android-projects" data-toggle="collapse" class="nav-dropdown">Android Projects</a><ul id="building-android-projects"><li><a href="https://guides.gradle.org/building-android-apps/">Building Android Apps</a></li></ul></li><li><a aria-controls="building-javascript-projects" aria-expanded="false" href="#building-javascript-projects" data-toggle="collapse" class="nav-dropdown">JavaScript Projects</a><ul id="building-javascript-projects"><li><a href="https://guides.gradle.org/running-webpack-with-gradle/">Bundling JavaScript with Webpack</a></li></ul></li><li><a aria-controls="authoring-build-scripts" aria-expanded="false" href="#authoring-build-scripts" data-toggle="collapse" class="nav-dropdown">Authoring Build Scripts</a><ul id="authoring-build-scripts"><li><a href="/userguide/tutorial_using_tasks.html">Build Script Basics</a></li><li><a href="/userguide/more_about_tasks.html">Authoring Tasks</a></li><li><a href="/userguide/logging.html">Logging</a></li><li><a href="/userguide/test_kit.html">Testing with TestKit</a></li><li><a href="/userguide/multi_project_builds.html">Authoring Multi-Project Builds</a></li><li><a href="/userguide/standard_plugins.html">Standard Gradle Plugins</a></li><li><a href="/userguide/plugins.html">Using Gradle Plugins</a></li><li><a href="/userguide/writing_build_scripts.html">Writing Build Scripts</a></li><li><a href="/userguide/working_with_files.html">Working with Files</a></li><li><a href="/userguide/build_lifecycle.html">Build Lifecycle</a></li><li><a href="/userguide/feature_lifecycle.html">Feature Lifecycle</a></li></ul></li><li><a aria-controls="managing-dependencies" aria-expanded="false" href="#managing-dependencies" data-toggle="collapse" class="nav-dropdown">Managing Dependencies</a><ul id="managing-dependencies"><li><a href="/userguide/introduction_dependency_management.html">Introduction to Dependency Management</a></li><li><a href="/userguide/declaring_dependencies.html">Declaring Dependencies</a></li><li><a href="/userguide/declaring_repositories.html">Declaring Repositories</a></li><li><a href="/userguide/inspecting_dependencies.html">Inspecting Dependencies</a></li><li><a href="/userguide/managing_transitive_dependencies.html">Managing Transitive Dependencies</a></li><li><a href="/userguide/working_with_dependencies.html">Working with Dependencies</a></li><li><a href="/userguide/customizing_dependency_resolution_behavior.html">Customizing Dependency Resolution Behavior</a></li><li><a href="/userguide/troubleshooting_dependency_resolution.html">Troubleshooting Dependency Resolution</a></li><li><a aria-controls="dependency-management-glossary" aria-expanded="false" href="#dependency-management-glossary" data-toggle="collapse" class="nav-dropdown">Glossary</a><ul id="dependency-management-glossary"><li><a href="/userguide/dependency_types.html">Dependency Types</a></li><li><a href="/userguide/repository_types.html">Repository Types</a></li></ul></li></ul></li><li><a aria-controls="publishing-artifacts" aria-expanded="false" href="#publishing-artifacts" data-toggle="collapse" class="nav-dropdown">Publishing Artifacts</a><ul id="publishing-artifacts"><li><a href="/userguide/artifact_management.html">Publishing Artifacts Overview</a></li><li><a href="/userguide/distribution_plugin.html">Distribution Plugin</a></li><li><a href="/userguide/maven_plugin.html">Maven Plugin</a></li><li><a href="/userguide/publishing_maven.html">Maven Publish Plugin</a></li><li><a href="/userguide/publishing_ivy.html">Ivy Publish Plugin</a></li><li><a href="/userguide/signing_plugin.html">Signing Plugin</a></li></ul></li><li><a aria-controls="best-practices" aria-expanded="false" href="#best-practices" data-toggle="collapse" class="nav-dropdown">Best Practices</a><ul id="best-practices"><li><a href="/userguide/organizing_build_logic.html">Organizing Build Logic</a></li><li><a href="https://guides.gradle.org/performance/">Optimizing Build Performance</a></li><li><a href="https://guides.gradle.org/using-build-cache/">Using the Build Cache</a></li></ul></li><li><a aria-controls="sample-gradle-builds" aria-expanded="false" href="#sample-gradle-builds" data-toggle="collapse" class="nav-dropdown">Sample Gradle Builds</a><ul id="sample-gradle-builds"><li><a href="https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples">Sample Projects</a></li><li><a href="https://github.com/gradle/native-samples">Native Samples</a></li><li><a href="https://github.com/gradle/kotlin-dsl/tree/master/samples">Kotlin DSL Samples</a></li></ul></li></ul><h3 id="developing-gradle-plugins">Developing Gradle Plugins</h3><ul><li><a aria-controls="plugins-tutorials" aria-expanded="false" href="#plugins-tutorials" data-toggle="collapse" class="nav-dropdown">Gradle Plugins Tutorials</a><ul id="plugins-tutorials"><li><a href="https://guides.gradle.org/designing-gradle-plugins/">Designing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/implementing-gradle-plugins/">Implementing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/testing-gradle-plugins/">Testing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/publishing-plugins-to-gradle-plugin-portal/">Publishing Gradle Plugins</a></li></ul></li><li><a href="https://guides.gradle.org/using-the-worker-api/">Developing Parallel Tasks</a></li><li><a href="/userguide/lazy_configuration.html">Lazy Task Configuration</a></li><li><a href="/userguide/java_gradle_plugin.html">Plugin Development Plugin</a></li><li><a href="/userguide/custom_plugins.html">Writing Custom Plugins</a></li></ul></nav><div class="chapter"><div class="titlepage"><div><aside class="chapter-meta js-chapter-meta"><div class="rating js-rating-widget"><i data-label="5" data-action="rating" title="Excellent Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="4" data-action="rating" title="Good Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="3" data-action="rating" title="OK Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="2" data-action="rating" title="Poor Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="1" data-action="rating" title="Unusable Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i></div><div class="quick-edit"><a href="https://github.com/gradle/gradle/edit/master/subprojects/docs/src/docs/userguide/" class="edit-link js-edit-link"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" version="1.1" viewBox="0 0 11 12" height="12px" width="11px"><g stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" fill="none" stroke-width="1" stroke="#999999"><polyline points="9 5.11724219 9 11.5 0.5 11.5 0.5 2.5 5 2.5"/><polygon points="9.59427002 0.565307617 4.31427002 5.84530762 4.31427002 6.56530762 5.03427002 6.56530762 10.31427 1.28530762" fill="#999999"/></g></svg>
                    Edit this page
                </a></div></aside><div><h1 xmlns:xslthl="http://xslthl.sf.net"><a name="native_software"></a>Building native software</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="native_software.html#sec:native_features">Features</a></span></dt><dt><span class="section"><a href="native_software.html#sec:supported_languages">Supported languages</a></span></dt><dt><span class="section"><a href="native_software.html#native-binaries:tool-chain-support">Tool chain support</a></span></dt><dt><span class="section"><a href="native_software.html#sec:tool_chain_installation">Tool chain installation</a></span></dt><dt><span class="section"><a href="native_software.html#sec:native_software_model">Native software model</a></span></dt><dt><span class="section"><a href="native_software.html#sec:parallel_compilation">Parallel Compilation</a></span></dt><dt><span class="section"><a href="native_software.html#sec:building_a_library">Building a library</a></span></dt><dt><span class="section"><a href="native_software.html#sec:building_an_executable">Building an executable</a></span></dt><dt><span class="section"><a href="native_software.html#sec:dependents">Assembling or building dependents</a></span></dt><dt><span class="section"><a href="native_software.html#sec:native_tasks">Tasks</a></span></dt><dt><span class="section"><a href="native_software.html#sec:finding_out_more_about_your_project">Finding out more about your project</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:languages">Language support</a></span></dt><dt><span class="section"><a href="native_software.html#sec:configuring_the_compiler_assembler_and_linker">Configuring the compiler, assembler and linker</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:windows-resources">Windows Resources</a></span></dt><dt><span class="section"><a href="native_software.html#sec:library_dependencies">Library Dependencies</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:preCompiledHeaders">Precompiled Headers</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:variants">Native Binary Variants</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:tool_chain">Tool chains</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:visual_studio">Visual Studio IDE integration</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:cunit">CUnit support</a></span></dt><dt><span class="section"><a href="native_software.html#native_binaries:google_test">GoogleTest support</a></span></dt></dl></div><div class="note"><p>Support for building native software is currently <a class="link" href="feature_lifecycle.html">incubating</a>. Please be aware that the DSL, APIs and other configuration may change in later Gradle versions.</p></div><p>The native software plugins add support for building native software components, such as executables or shared libraries, from code written in C++, C and other languages. While many excellent build tools exist for this space of software development, Gradle offers developers its trademark power and flexibility together with dependency management practices more traditionally found in the JVM development space.</p><p>The native software plugins make use of the Gradle <a class="link" href="software_model.html">software model</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:native_features" class="section-anchor" href="#sec:native_features"></a>Features</h2></div></div></div><p>The native software plugins provide:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Support for building native libraries and applications on Windows, Linux, macOS and other platforms.</p></li><li class="listitem"><p>Support for several source languages.</p></li><li class="listitem"><p>Support for building different variants of the same software, for different architectures, operating systems, or for any purpose.</p></li><li class="listitem"><p>Incremental parallel compilation, precompiled headers.</p></li><li class="listitem"><p>Dependency management between native software components.</p></li><li class="listitem"><p>Unit test execution.</p></li><li class="listitem"><p>Generate Visual studio solution and project files.</p></li><li class="listitem"><p>Deep integration with various tool chain, including discovery of installed tool chains.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:supported_languages" class="section-anchor" href="#sec:supported_languages"></a>Supported languages</h2></div></div></div><p>The following source languages are currently supported:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>C</p></li><li class="listitem"><p>C++</p></li><li class="listitem"><p>Objective-C</p></li><li class="listitem"><p>Objective-C++</p></li><li class="listitem"><p>Assembly</p></li><li class="listitem"><p>Windows resources</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native-binaries:tool-chain-support" class="section-anchor" href="#native-binaries:tool-chain-support"></a>Tool chain support</h2></div></div></div><p>Gradle offers the ability to execute the same build using different tool chains. When you build a native binary, Gradle will attempt to locate a tool chain installed on your machine that can build the binary. You can fine tune exactly how this works, see <a class="xref" href="native_software.html#native_binaries:tool_chain">the section called &ldquo;Tool chains&rdquo;</a> for details.</p><p>The following tool chains are supported:</p><div class="informaltable"><table border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th align="left" valign="top">Operating System</th><th align="left" valign="top">Tool Chain</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Linux</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p>Linux</p></td><td align="left" valign="top"><p><a class="ulink" href="http://clang.llvm.org" target="_top">Clang</a></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p>macOS</p></td><td align="left" valign="top"><p>XCode</p></td><td align="left" valign="top"><p>Uses the Clang tool chain bundled with XCode.</p></td></tr><tr><td align="left" valign="top"><p>Windows</p></td><td align="left" valign="top"><p><a class="ulink" href="http://www.microsoft.com/visualstudio/en-us" target="_top">Visual C++</a></p></td><td align="left" valign="top"><p>Windows XP and later, Visual C++ 2010/2012/2013/2015/2017.</p></td></tr><tr><td align="left" valign="top"><p>Windows</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a> with <a class="ulink" href="http://cygwin.com" target="_top">Cygwin 32</a></p></td><td align="left" valign="top"><p>Windows XP and later.</p></td></tr><tr><td align="left" valign="top"><p>Windows</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a> with <a class="ulink" href="http://www.mingw.org/" target="_top">MinGW</a></p></td><td align="left" valign="top"><p>Windows XP and later. <a class="ulink" href="http://mingw-w64.sourceforge.net" target="_top">Mingw-w64</a> is currently not supported.</p></td></tr></tbody></table></div><p>The following tool chains are unofficially supported. They generally work fine, but are not tested continuously:</p><div class="informaltable"><table border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th align="left" valign="top">Operating System</th><th align="left" valign="top">Tool Chain</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p>macOS</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a> from Macports</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p>macOS</p></td><td align="left" valign="top"><p><a class="ulink" href="http://clang.llvm.org" target="_top">Clang</a> from Macports</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p>Windows</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a> with <a class="ulink" href="http://cygwin.com" target="_top">Cygwin 64</a></p></td><td align="left" valign="top"><p>Windows XP and later.</p></td></tr><tr><td align="left" valign="top"><p>UNIX-like</p></td><td align="left" valign="top"><p><a class="ulink" href="http://gcc.gnu.org/" target="_top">GCC</a></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p>UNIX-like</p></td><td align="left" valign="top"><p><a class="ulink" href="http://clang.llvm.org" target="_top">Clang</a></p></td><td align="left" valign="top">&nbsp;</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:tool_chain_installation" class="section-anchor" href="#sec:tool_chain_installation"></a>Tool chain installation</h2></div></div></div><div class="note"><p>Note that if you are using GCC then you currently need to install support for C++, even if you are not building from C++ source. This restriction will be removed in a future Gradle version.</p></div><p>To build native software, you will need to have a compatible tool chain installed:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:windows" class="section-anchor" href="#sec:windows"></a>Windows</h3></div></div></div><p>To build on Windows, install a compatible version of Visual Studio. The native plugins will discover the Visual Studio installations and select the latest version. There is no need to mess around with environment variables or batch scripts. This works fine from a Cygwin shell or the Windows command-line.</p><p>Alternatively, you can install Cygwin with GCC or MinGW. Clang is currently not supported.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:macOS" class="section-anchor" href="#sec:macOS"></a>macOS</h3></div></div></div><p>To build on macOS, you should install XCode. The native plugins will discover the XCode installation using the system PATH.</p><p>The native plugins also work with GCC and Clang bundled with Macports. To use one of the Macports tool chains, you will need to make the tool chain the default using the <code class="literal">port select</code> command and add Macports to the system PATH.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:linux" class="section-anchor" href="#sec:linux"></a>Linux</h3></div></div></div><p>To build on Linux, install a compatible version of GCC or Clang. The native plugins will discover GCC or Clang using the system PATH.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:native_software_model" class="section-anchor" href="#sec:native_software_model"></a>Native software model</h2></div></div></div><p>The native software model builds on the base Gradle <a class="link" href="software_model_concepts.html">software model</a>.</p><p>To build native software using Gradle, your project should define one or more <span class="emphasis"><em>native components</em></span>. Each component represents either an executable or a library that Gradle should build. A project can define any number of components. Gradle does not define any components by default.</p><p>For each component, Gradle defines a <span class="emphasis"><em>source set</em></span> for each language that the component can be built from. A source set is essentially just a set of source directories containing source files. For example, when you apply the <code class="literal">c</code> plugin and define a library called <code class="literal">helloworld</code>, Gradle will define, by default, a source set containing the C source files in the <code class="literal">src/helloworld/c</code> directory. It will use these source files to build the <code class="literal">helloworld</code> library. This is described in more detail below.</p><p>For each component, Gradle defines one or more <span class="emphasis"><em>binaries</em></span> as output. To build a binary, Gradle will take the source files defined for the component, compile them as appropriate for the source language, and link the result into a binary file. For an executable component, Gradle can produce executable binary files. For a library component, Gradle can produce both static and shared library binary files. For example, when you define a library called <code class="literal">helloworld</code> and build on Linux, Gradle will, by default, produce <code class="literal">libhelloworld.so</code> and <code class="literal">libhelloworld.a</code> binaries.</p><p>In many cases, more than one binary can be produced for a component. These binaries may vary based on the tool chain used to build, the compiler/linker flags supplied, the dependencies provided, or additional source files provided. Each native binary produced for a component is referred to as a <span class="emphasis"><em>variant</em></span>. Binary variants are discussed in detail below.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:parallel_compilation" class="section-anchor" href="#sec:parallel_compilation"></a>Parallel Compilation</h2></div></div></div><p>Gradle uses the single build worker pool to concurrently compile and link native components, by default. No special configuration is required to enable concurrent building.</p><p>By default, the worker pool size is determined by the number of available processors on the build machine (as reported to the build JVM). To explicitly set the number of workers use the <code class="literal">--max-workers</code> command-line option or <code class="literal">org.gradle.workers.max</code> system property. There is generally no need to change this setting from its default.</p><p>The build worker pool is shared across all build tasks. This means that when using <a class="link" href="multi_project_builds.html#sec:parallel_execution">parallel project execution</a>, the maximum number of concurrent individual compilation operations does not increase. For example, if the build machine has 4 processing cores and 10 projects are compiling in parallel, Gradle will only use 4 total workers, not 40.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:building_a_library" class="section-anchor" href="#sec:building_a_library"></a>Building a library</h2></div></div></div><p>To build either a static or shared native library, you define a library component in the <code class="literal">components</code> container. The following sample defines a library called <code class="literal">hello</code>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppLibraries"></a><p class="title"><b>Example&nbsp;562.&nbsp;Defining a library component</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        hello(NativeLibrarySpec)
    }
}
</pre></div></div><br class="example-break"><p>A library component is represented using <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a>. Each library component can produce at least one shared library binary (<a class="ulink" href="../dsl/org.gradle.nativeplatform.SharedLibraryBinarySpec.html" target="_top"><code class="classname">SharedLibraryBinarySpec</code></a>) and at least one static library binary (<a class="ulink" href="../dsl/org.gradle.nativeplatform.StaticLibraryBinarySpec.html" target="_top"><code class="classname">StaticLibraryBinarySpec</code></a>).</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:building_an_executable" class="section-anchor" href="#sec:building_an_executable"></a>Building an executable</h2></div></div></div><p>To build a native executable, you define an executable component in the <code class="literal">components</code> container. The following sample defines an executable called <code class="literal">main</code>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppExecutables"></a><p class="title"><b>Example&nbsp;563.&nbsp;Defining executable components</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        main(NativeExecutableSpec) {
            sources {
               c.lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"hello"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>An executable component is represented using <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a>. Each executable component can produce at least one executable binary (<a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableBinarySpec.html" target="_top"><code class="classname">NativeExecutableBinarySpec</code></a>).</p><p>For each component defined, Gradle adds a <a class="ulink" href="../javadoc/org/gradle/language/base/FunctionalSourceSet.html" target="_top"><code class="classname">FunctionalSourceSet</code></a> with the same name. Each of these functional source sets will contain a language-specific source set for each of the languages supported by the project.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependents" class="section-anchor" href="#sec:dependents"></a>Assembling or building dependents</h2></div></div></div><p>Sometimes, you may need to <span class="emphasis"><em>assemble</em></span> (compile and link) or <span class="emphasis"><em>build</em></span> (compile, link and test) a component or binary and its <span class="emphasis"><em>dependents</em></span> (things that depend upon the component or binary). The native software model provides tasks that enable this capability. First, the <span class="emphasis"><em>dependent components</em></span> report gives insight about the relationships between each component. Second, the <span class="emphasis"><em>build and assemble dependents</em></span> tasks allow you to assemble or build a component and its dependents in one step.</p><p>In the following example, the build file defines <code class="literal">OpenSSL</code> as a dependency of <code class="literal">libUtil</code> and <code class="literal">libUtil</code> as a dependency of <code class="literal">LinuxApp</code> and <code class="literal">WindowsApp</code>. Test suites are treated similarly. Dependents can be thought of as reverse dependencies.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N1A3CF"></a><p class="title"><b>Figure&nbsp;20.&nbsp;Dependent Components Example</b></p><div class="figure-contents"><img src="img/nativeDependents.png" alt="Dependent Components Example"></div></div><br class="figure-break"><div class="note"><p>By following the dependencies backwards, you can see <code class="literal">LinuxApp</code> and <code class="literal">WindowsApp</code> are <span class="emphasis"><em>dependents</em></span> of <code class="literal">libUtil</code>. When <code class="literal">libUtil</code> is changed, Gradle will need to recompile or relink <code class="literal">LinuxApp</code> and <code class="literal">WindowsApp</code>.</p></div><p>When you <span class="emphasis"><em>assemble</em></span> dependents of a component, the component and all of its dependents are compiled and linked, including any test suite binaries. Gradle&rsquo;s up-to-date checks are used to only compile or link if something has changed. For instance, if you have changed source files in a way that do not affect the headers of your project, Gradle will be able to skip compilation for dependent components and only need to re-link with the new library. Tests are not run when assembling a component.</p><p>When you <span class="emphasis"><em>build</em></span> dependents of a component, the component and all of its dependent binaries are compiled, linked <span class="emphasis"><em>and checked</em></span>. Checking components means running any <a class="link" href="native_software.html#sec:check_tasks">check task</a> including executing any test suites, so tests <span class="emphasis"><em>are</em></span> run when building a component.</p><p>In the following sections, we will demonstrate the usage of the <code class="literal">assembleDependents*</code>, <code class="literal">buildDependents*</code> and <code class="literal">dependentComponents</code> tasks with a sample build that contains a CUnit test suite. The build script for the sample is the following:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeDependentComponentsSample"></a><p class="title"><b>Example&nbsp;564.&nbsp;Sample build</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"c"</span>
apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'cunit-test-suite'</span>

model {
    flavors {
        passing
        failing
    }
    platforms {
        x8<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span> {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
        }
    }
    components {
        operators(NativeLibrarySpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
        }
    }
    testSuites {
        operatorsTest(CUnitTestSuiteSpec) {
            testing $.components.operators
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/native-binaries/cunit</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependents_report" class="section-anchor" href="#sec:dependents_report"></a>Dependent components report</h3></div></div></div><p>Gradle provides a report that you can run from the command-line that shows a graph of components in your project and components that depend upon them. The following is an example of running <code class="literal">gradle dependentComponents</code> on the sample project:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeDependentComponentsReport"></a><p class="title"><b>Example&nbsp;565.&nbsp;Dependent components report</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle dependentComponents</code></strong></p><pre class="screen">&gt; gradle dependentComponents
:dependentComponents

------------------------------------------------------------
Root project
------------------------------------------------------------

operators - Components that depend on native library 'operators'
+--- operators:failingSharedLibrary
+--- operators:failingStaticLibrary
+--- operators:passingSharedLibrary
\--- operators:passingStaticLibrary

Some test suites were not shown, use --test-suites or --all to show them.

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><div class="note"><p>See <a class="ulink" href="../dsl/org.gradle.api.reporting.dependents.DependentComponentsReport.html" target="_top"><code class="classname">DependentComponentsReport</code></a> API documentation for more details.</p></div><p>By default, non-buildable binaries and test suites are hidden from the report. The <code class="literal">dependentComponents</code> task provides options that allow you to see all dependents by using the <code class="literal">--all</code> option:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeDependentComponentsReportAll"></a><p class="title"><b>Example&nbsp;566.&nbsp;Dependent components report</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle dependentComponents --all</code></strong></p><pre class="screen">&gt; gradle dependentComponents --all
:dependentComponents

------------------------------------------------------------
Root project
------------------------------------------------------------

operators - Components that depend on native library 'operators'
+--- operators:failingSharedLibrary
+--- operators:failingStaticLibrary
|    \--- operatorsTest:failingCUnitExe (t)
+--- operators:passingSharedLibrary
\--- operators:passingStaticLibrary
     \--- operatorsTest:passingCUnitExe (t)

operatorsTest - Components that depend on Cunit test suite 'operatorsTest'
+--- operatorsTest:failingCUnitExe (t)
\--- operatorsTest:passingCUnitExe (t)

(t) - Test suite binary

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>Here is the corresponding report for the <code class="literal">operators</code> component, showing dependents of all its binaries:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeAssembleDependentComponentsReport"></a><p class="title"><b>Example&nbsp;567.&nbsp;Report of components that depends on the operators component</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle dependentComponents --component operators</code></strong></p><pre class="screen">&gt; gradle dependentComponents --component operators
:dependentComponents

------------------------------------------------------------
Root project
------------------------------------------------------------

operators - Components that depend on native library 'operators'
+--- operators:failingSharedLibrary
+--- operators:failingStaticLibrary
+--- operators:passingSharedLibrary
\--- operators:passingStaticLibrary

Some test suites were not shown, use --test-suites or --all to show them.

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"><p>Here is the corresponding report for the <code class="literal">operators</code> component, showing dependents of all its binaries, including test suites:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeBuildDependentComponentsReport"></a><p class="title"><b>Example&nbsp;568.&nbsp;Report of components that depends on the operators component, including test suites</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle dependentComponents --test-suites --component operators</code></strong></p><pre class="screen">&gt; gradle dependentComponents --test-suites --component operators
:dependentComponents

------------------------------------------------------------
Root project
------------------------------------------------------------

operators - Components that depend on native library 'operators'
+--- operators:failingSharedLibrary
+--- operators:failingStaticLibrary
|    \--- operatorsTest:failingCUnitExe (t)
+--- operators:passingSharedLibrary
\--- operators:passingStaticLibrary
     \--- operatorsTest:passingCUnitExe (t)

(t) - Test suite binary

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:assemble_dependents" class="section-anchor" href="#sec:assemble_dependents"></a>Assembling dependents</h3></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a>, Gradle will create a task named <code class="literal">assembleDependents<span class="emphasis"><em>${component.name}${binary.variant}</em></span></code> that <span class="emphasis"><em>assembles</em></span> (compile and link) the binary and all of its dependent binaries.</p><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeComponentSpec.html" target="_top"><code class="classname">NativeComponentSpec</code></a>, Gradle will create a task named <code class="literal">assembleDependents<span class="emphasis"><em>${component.name}</em></span></code> that <span class="emphasis"><em>assembles</em></span> all the binaries of the component and all of their dependent binaries.</p><p>For example, to assemble the dependents of the "passing" flavor of the "static" library binary of the "operators" component, you would run the <code class="literal">assembleDependentsOperatorsPassingStaticLibrary</code> task:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeAssembleDependentComponents"></a><p class="title"><b>Example&nbsp;569.&nbsp;Assemble components that depends on the passing/static binary of the operators component</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle assembleDependentsOperatorsPassingStaticLibrary --max-workers=1</code></strong></p><pre class="screen">&gt; gradle assembleDependentsOperatorsPassingStaticLibrary --max-workers=1
:compileOperatorsTestPassingCUnitExeOperatorsC
:operatorsTestCUnitLauncher
:compileOperatorsTestPassingCUnitExeOperatorsTestC
:compileOperatorsTestPassingCUnitExeOperatorsTestCunitLauncher
:linkOperatorsTestPassingCUnitExe
:operatorsTestPassingCUnitExe
:assembleDependentsOperatorsTestPassingCUnitExe
:compileOperatorsPassingStaticLibraryOperatorsC
:createOperatorsPassingStaticLibrary
:operatorsPassingStaticLibrary
:assembleDependentsOperatorsPassingStaticLibrary

BUILD SUCCESSFUL in 0s
7 actionable tasks: 7 executed
</pre></div></div><br class="example-break"><p>In the output above, the targeted binary gets assembled as well as the test suite binary that depends on it.</p><p>You can also assemble <span class="emphasis"><em>all</em></span> of the dependents of a component (i.e. of all its binaries/variants) using the corresponding component task, e.g. <code class="literal">assembleDependentsOperators</code>. This is useful if you have many combinations of build types, flavors and platforms and want to assemble all of them.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:build_dependents" class="section-anchor" href="#sec:build_dependents"></a>Building dependents</h3></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a>, Gradle will create a task named <code class="literal">buildDependents<span class="emphasis"><em>${component.name}${binary.variant}</em></span></code> that <span class="emphasis"><em>builds</em></span> (compile, link and check) the binary and all of its dependent binaries.</p><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeComponentSpec.html" target="_top"><code class="classname">NativeComponentSpec</code></a>, Gradle will create a task named <code class="literal">buildDependents<span class="emphasis"><em>${component.name}</em></span></code> that <span class="emphasis"><em>builds</em></span> all the binaries of the component and all of their dependent binaries.</p><p>For example, to build the dependents of the "passing" flavor of the "static" library binary of the "operators" component, you would run the <code class="literal">buildDependentsOperatorsPassingStaticLibrary</code> task:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeBuildDependentComponents"></a><p class="title"><b>Example&nbsp;570.&nbsp;Build components that depends on the passing/static binary of the operators component</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle buildDependentsOperatorsPassingStaticLibrary --max-workers=1</code></strong></p><pre class="screen">&gt; gradle buildDependentsOperatorsPassingStaticLibrary --max-workers=1
:compileOperatorsTestPassingCUnitExeOperatorsC
:operatorsTestCUnitLauncher
:compileOperatorsTestPassingCUnitExeOperatorsTestC
:compileOperatorsTestPassingCUnitExeOperatorsTestCunitLauncher
:linkOperatorsTestPassingCUnitExe
:operatorsTestPassingCUnitExe
:installOperatorsTestPassingCUnitExe
:runOperatorsTestPassingCUnitExe
:checkOperatorsTestPassingCUnitExe
:buildDependentsOperatorsTestPassingCUnitExe
:compileOperatorsPassingStaticLibraryOperatorsC
:createOperatorsPassingStaticLibrary
:operatorsPassingStaticLibrary
:buildDependentsOperatorsPassingStaticLibrary

BUILD SUCCESSFUL in 0s
9 actionable tasks: 9 executed
</pre></div></div><br class="example-break"><p>In the output above, the targeted binary as well as the test suite binary that depends on it are built and the test suite has run.</p><p>You can also build <span class="emphasis"><em>all</em></span> of the dependents of a component (i.e. of all its binaries/variants) using the corresponding component task, e.g. <code class="literal">buildDependentsOperators</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:native_tasks" class="section-anchor" href="#sec:native_tasks"></a>Tasks</h2></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> that can be produced by a build, a single <span class="emphasis"><em>lifecycle task</em></span> is constructed that can be used to create that binary, together with a set of other tasks that do the actual work of compiling, linking or assembling the binary.</p><div class="informaltable"><table border="1"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr><th align="left" valign="top">Component Type</th><th align="left" valign="top">Native Binary Type</th><th align="left" valign="top">Lifecycle task</th><th align="left" valign="top">Location of created binary</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableBinarySpec.html" target="_top"><code class="classname">NativeExecutableBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${component.name}</em></span>Executable</code></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${project.buildDir}</em></span>/exe/<span class="emphasis"><em>${component.name}</em></span>/<span class="emphasis"><em>${component.name}</em></span></code></p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.SharedLibraryBinarySpec.html" target="_top"><code class="classname">SharedLibraryBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${component.name}</em></span>SharedLibrary</code></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${project.buildDir}</em></span>/libs/<span class="emphasis"><em>${component.name}</em></span>/shared/lib<span class="emphasis"><em>${component.name}</em></span>.so</code></p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.StaticLibraryBinarySpec.html" target="_top"><code class="classname">StaticLibraryBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${component.name}</em></span>StaticLibrary</code></p></td><td align="left" valign="top"><p><code class="literal"><span class="emphasis"><em>${project.buildDir}</em></span>/libs/<span class="emphasis"><em>${component.name}</em></span>/static/<span class="emphasis"><em>${component.name}</em></span>.a</code></p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:check_tasks" class="section-anchor" href="#sec:check_tasks"></a>Check tasks</h3></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> that can be produced by a build, a single <span class="emphasis"><em>check task</em></span> is constructed that can be used to assemble and check that binary.</p><div class="informaltable"><table border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th align="left" valign="top">Component Type</th><th align="left" valign="top">Native Binary Type</th><th align="left" valign="top">Check task</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableBinarySpec.html" target="_top"><code class="classname">NativeExecutableBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal">check<span class="emphasis"><em>${component.name}</em></span>Executable</code></p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.SharedLibraryBinarySpec.html" target="_top"><code class="classname">SharedLibraryBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal">check<span class="emphasis"><em>${component.name}</em></span>SharedLibrary</code></p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a></p></td><td align="left" valign="top"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.StaticLibraryBinarySpec.html" target="_top"><code class="classname">StaticLibraryBinarySpec</code></a></p></td><td align="left" valign="top"><p><code class="literal">check<span class="emphasis"><em>${component.name}</em></span>StaticLibrary</code></p></td></tr></tbody></table></div><p>The built-in <code class="literal">check</code> task depends on all the <span class="emphasis"><em>check tasks</em></span> for binaries in the project. Without either <a class="link" href="native_software.html#native_binaries:cunit">CUnit</a> or <a class="link" href="native_software.html#native_binaries:google_test">GoogleTest</a> plugins, the binary check task only depends on the <span class="emphasis"><em>lifecycle task</em></span> that assembles the binary, see <a class="xref" href="native_software.html#sec:native_tasks">the section called &ldquo;Tasks&rdquo;</a>.</p><p>When the <a class="link" href="native_software.html#native_binaries:cunit">CUnit</a> or <a class="link" href="native_software.html#native_binaries:google_test">GoogleTest</a> plugins are applied, the task that executes the test suites for a component are automatically wired to the appropriate <span class="emphasis"><em>check task</em></span>.</p><p>You can also add custom check tasks as follows:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeComponentCustomCheck"></a><p class="title"><b>Example&nbsp;571.&nbsp;Adding a custom check task</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"cpp"</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// You don't need to apply the plugin below if you're already using CUnit or GoogleTest support</span>
apply plugin: TestingModelBasePlugin

task myCustomCheck {
    doLast {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'Executing my custom check'</span>
    }
}

model {
    components {
        hello(NativeLibrarySpec) {
            binaries.all {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Register our custom check task to all binaries of this component</span>
                checkedBy $.tasks.myCustomCheck
            }
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/native-binaries/custom-check</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"><p>Now, running <code class="literal">check</code> or any of the <span class="emphasis"><em>check tasks</em></span> for the <code class="literal">hello</code> binaries will run the custom check task:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeComponentCustomCheckOutput"></a><p class="title"><b>Example&nbsp;572.&nbsp;Running checks for a given binary</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle checkHelloSharedLibrary</code></strong></p><pre class="screen">&gt; gradle checkHelloSharedLibrary
:myCustomCheck
Executing my custom check
:checkHelloSharedLibrary

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:working_with_shared_libraries" class="section-anchor" href="#sec:working_with_shared_libraries"></a>Working with shared libraries</h3></div></div></div><p>For each executable binary produced, the <code class="literal">cpp</code> plugin provides an <code class="literal">install${binary.name}</code> task, which creates a development install of the executable, along with the shared libraries it requires. This allows you to run the executable without needing to install the shared libraries in their final locations.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:finding_out_more_about_your_project" class="section-anchor" href="#sec:finding_out_more_about_your_project"></a>Finding out more about your project</h2></div></div></div><p>Gradle provides a report that you can run from the command-line that shows some details about the components and binaries that your project produces. To use this report, just run <code class="literal">gradle components</code>. Below is an example of running this report for one of the sample projects:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nativeComponentReport"></a><p class="title"><b>Example&nbsp;573.&nbsp;The components report</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle components</code></strong></p><pre class="screen">&gt; gradle components
:components

------------------------------------------------------------
Root project
------------------------------------------------------------

Native library 'hello'
----------------------

Source sets
    C++ source 'hello:cpp'
        srcDir: src/hello/cpp

Binaries
    Shared library 'hello:sharedLibrary'
        build using task: :helloSharedLibrary
        build type: build type 'debug'
        flavor: flavor 'default'
        target platform: platform 'current'
        tool chain: Tool chain 'clang' (Clang)
        shared library file: build/libs/hello/shared/libhello.dylib
    Static library 'hello:staticLibrary'
        build using task: :helloStaticLibrary
        build type: build type 'debug'
        flavor: flavor 'default'
        target platform: platform 'current'
        tool chain: Tool chain 'clang' (Clang)
        static library file: build/libs/hello/static/libhello.a

Native executable 'main'
------------------------

Source sets
    C++ source 'main:cpp'
        srcDir: src/main/cpp

Binaries
    Executable 'main:executable'
        build using task: :mainExecutable
        install using task: :installMainExecutable
        build type: build type 'debug'
        flavor: flavor 'default'
        target platform: platform 'current'
        tool chain: Tool chain 'clang' (Clang)
        executable file: build/exe/main/main

Note: currently not all plugins register their components, so some components may not be visible here.

BUILD SUCCESSFUL in 0s
1 actionable task: 1 executed
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:languages" class="section-anchor" href="#native_binaries:languages"></a>Language support</h2></div></div></div><p>Presently, Gradle supports building native software from any combination of source languages listed below. A native binary project will contain one or more named <code class="literal">FunctionalSourceSet</code> instances (eg 'main', 'test', etc), each of which can contain <code class="literal">LanguageSourceSet</code>s containing source files, one for each language.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>C</p></li><li class="listitem"><p>C++</p></li><li class="listitem"><p>Objective-C</p></li><li class="listitem"><p>Objective-C++</p></li><li class="listitem"><p>Assembly</p></li><li class="listitem"><p>Windows resources</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:cpp_sources" class="section-anchor" href="#sec:cpp_sources"></a>C++ sources</h3></div></div></div><p>C++ language support is provided by means of the <code class="literal">'cpp'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppPlugin"></a><p class="title"><b>Example&nbsp;574.&nbsp;The 'cpp' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'cpp'</span>
</pre></div></div><br class="example-break"><p>C++ sources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.cpp.CppSourceSet.html" target="_top"><code class="classname">CppSourceSet</code></a>, which defines a set of C++ source files and optionally a set of exported header files (for a library). By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.cpp.CppSourceSet.html" target="_top"><code class="classname">CppSourceSet</code></a> contains <code class="literal">.cpp</code> source files in <code class="literal">src/${name}/cpp</code>, and header files in <code class="literal">src/${name}/headers</code>.</p><p>While the <code class="literal">cpp</code> plugin defines these default locations for each <a class="ulink" href="../dsl/org.gradle.language.cpp.CppSourceSet.html" target="_top"><code class="classname">CppSourceSet</code></a>, it is possible to extend or override these defaults to allow for a different project layout.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppSourceSet"></a><p class="title"><b>Example&nbsp;575.&nbsp;C++ source set</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">sources {
    cpp {
        source {
            srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/source"</span>
            include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.cpp"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>For a library named 'main', header files in <code class="literal">src/main/headers</code> are considered the "public" or "exported" headers. Header files that should not be exported should be placed inside the <code class="literal">src/main/cpp</code> directory (though be aware that such header files should always be referenced in a manner relative to the file including them).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:c_sources" class="section-anchor" href="#sec:c_sources"></a>C sources</h3></div></div></div><p>C language support is provided by means of the <code class="literal">'c'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cPlugin"></a><p class="title"><b>Example&nbsp;576.&nbsp;The 'c' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'c'</span>
</pre></div></div><br class="example-break"><p>C sources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.c.CSourceSet.html" target="_top"><code class="classname">CSourceSet</code></a>, which defines a set of C source files and optionally a set of exported header files (for a library). By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.c.CSourceSet.html" target="_top"><code class="classname">CSourceSet</code></a> contains <code class="literal">.c</code> source files in <code class="literal">src/${name}/c</code>, and header files in <code class="literal">src/${name}/headers</code>.</p><p>While the <code class="literal">c</code> plugin defines these default locations for each <a class="ulink" href="../dsl/org.gradle.language.c.CSourceSet.html" target="_top"><code class="classname">CSourceSet</code></a>, it is possible to extend or override these defaults to allow for a different project layout.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cSourceSet"></a><p class="title"><b>Example&nbsp;577.&nbsp;C source set</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">sources {
    c {
        source {
            srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/source"</span>
            include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.c"</span>
        }
        exportedHeaders {
            srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/include"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>For a library named 'main', header files in <code class="literal">src/main/headers</code> are considered the "public" or "exported" headers. Header files that should not be exported should be placed inside the <code class="literal">src/main/c</code> directory (though be aware that such header files should always be referenced in a manner relative to the file including them).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:assembler_sources" class="section-anchor" href="#sec:assembler_sources"></a>Assembler sources</h3></div></div></div><p>Assembly language support is provided by means of the <code class="literal">'assembler'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="assemblerPlugin"></a><p class="title"><b>Example&nbsp;578.&nbsp;The 'assembler' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'assembler'</span>
</pre></div></div><br class="example-break"><p>Assembler sources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.assembler.AssemblerSourceSet.html" target="_top"><code class="classname">AssemblerSourceSet</code></a>, which defines a set of Assembler source files. By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.assembler.AssemblerSourceSet.html" target="_top"><code class="classname">AssemblerSourceSet</code></a> contains <code class="literal">.s</code> source files under <code class="literal">src/${name}/asm</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:objectivec_sources" class="section-anchor" href="#sec:objectivec_sources"></a>Objective-C sources</h3></div></div></div><p>Objective-C language support is provided by means of the <code class="literal">'objective-c'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="objectiveCPlugin"></a><p class="title"><b>Example&nbsp;579.&nbsp;The 'objective-c' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'objective-c'</span>
</pre></div></div><br class="example-break"><p>Objective-C sources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.objectivec.ObjectiveCSourceSet.html" target="_top"><code class="classname">ObjectiveCSourceSet</code></a>, which defines a set of Objective-C source files. By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.objectivec.ObjectiveCSourceSet.html" target="_top"><code class="classname">ObjectiveCSourceSet</code></a> contains <code class="literal">.m</code> source files under <code class="literal">src/${name}/objectiveC</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:objectivecpp_sources" class="section-anchor" href="#sec:objectivecpp_sources"></a>Objective-C++ sources</h3></div></div></div><p>Objective-C++ language support is provided by means of the <code class="literal">'objective-cpp'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="objectiveCppPlugin"></a><p class="title"><b>Example&nbsp;580.&nbsp;The 'objective-cpp' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'objective-cpp'</span>
</pre></div></div><br class="example-break"><p>Objective-C++ sources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.objectivecpp.ObjectiveCppSourceSet.html" target="_top"><code class="classname">ObjectiveCppSourceSet</code></a>, which defines a set of Objective-C++ source files. By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.objectivecpp.ObjectiveCppSourceSet.html" target="_top"><code class="classname">ObjectiveCppSourceSet</code></a> contains <code class="literal">.mm</code> source files under <code class="literal">src/${name}/objectiveCpp</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:configuring_the_compiler_assembler_and_linker" class="section-anchor" href="#sec:configuring_the_compiler_assembler_and_linker"></a>Configuring the compiler, assembler and linker</h2></div></div></div><p>Each binary to be produced is associated with a set of compiler and linker settings, which include command-line arguments as well as macro definitions. These settings can be applied to all binaries, an individual binary, or selectively to a group of binaries based on some criteria.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="allBinarySettings"></a><p class="title"><b>Example&nbsp;581.&nbsp;Settings that apply to all binaries</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    binaries {
        all {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Define a preprocessor macro for every binary</span>
            cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"NDEBUG"</span>

            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Define toolchain-specific compiler and linker options</span>
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in Gcc) {
                cppCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-O2"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-fno-access-control"</span>
                linker.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-Xlinker"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-S"</span>
            }
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in VisualCpp) {
                cppCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/Zi"</span>
                linker.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/DEBUG"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Each binary is associated with a particular <a class="ulink" href="../javadoc/org/gradle/nativeplatform/toolchain/NativeToolChain.html" target="_top"><code class="classname">NativeToolChain</code></a>, allowing settings to be targeted based on this value.</p><p>It is easy to apply settings to all binaries of a particular type:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="allSharedLibraryBinarySettings"></a><p class="title"><b>Example&nbsp;582.&nbsp;Settings that apply to all shared libraries</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// For any shared library binaries built with Visual C++,</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// define the DLL_EXPORT macro</span>
model {
    binaries {
        withType(SharedLibraryBinarySpec) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in VisualCpp) {
                cCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/Zi"</span>
                cCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"DLL_EXPORT"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Furthermore, it is possible to specify settings that apply to all binaries produced for a particular <code class="literal">executable</code> or <code class="literal">library</code> component:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="componentBinarySettings"></a><p class="title"><b>Example&nbsp;583.&nbsp;Settings that apply to all binaries produced for the 'main' executable component</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        main(NativeExecutableSpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
            binaries.all {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in VisualCpp) {
                    sources {
                        platformAsm(AssemblerSourceSet) {
                            source.srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/asm_i386_masm"</span>
                        }
                    }
                    assembler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/Zi"</span>
                } <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">else</span> {
                    sources {
                        platformAsm(AssemblerSourceSet) {
                            source.srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/asm_i386_gcc"</span>
                        }
                    }
                    assembler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-g"</span>
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>The example above will apply the supplied configuration to all <code class="literal">executable</code> binaries built.</p><p>Similarly, settings can be specified to target binaries for a component that are of a particular type: eg all shared libraries for the main library component.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="sharedLibraryArgs"></a><p class="title"><b>Example&nbsp;584.&nbsp;Settings that apply only to shared libraries produced for the 'main' library component</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        main(NativeLibrarySpec) {
            binaries.withType(SharedLibraryBinarySpec) {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Define a preprocessor macro that only applies to shared libraries</span>
                cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"DLL_EXPORT"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:windows-resources" class="section-anchor" href="#native_binaries:windows-resources"></a>Windows Resources</h2></div></div></div><p>When using the <a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.VisualCpp.html" target="_top"><code class="classname">VisualCpp</code></a> tool chain, Gradle is able to compile Window Resource (<code class="literal">rc</code>) files and link them into a native binary. This functionality is provided by the <code class="literal">'windows-resources'</code> plugin.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="windowsResourcesPlugin"></a><p class="title"><b>Example&nbsp;585.&nbsp;The 'windows-resources' plugin</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'windows-resources'</span>
</pre></div></div><br class="example-break"><p>Windows resources to be included in a native binary are provided via a <a class="ulink" href="../dsl/org.gradle.language.rc.WindowsResourceSet.html" target="_top"><code class="classname">WindowsResourceSet</code></a>, which defines a set of Windows Resource source files. By default, for any named component the <a class="ulink" href="../dsl/org.gradle.language.rc.WindowsResourceSet.html" target="_top"><code class="classname">WindowsResourceSet</code></a> contains <code class="literal">.rc</code> source files under <code class="literal">src/${name}/rc</code>.</p><p>As with other source types, you can configure the location of the windows resources that should be included in the binary.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="windowsResourceSet"></a><p class="title"><b>Example&nbsp;586.&nbsp;Configuring the location of Windows resource sources</b></p><div class="example-contents"><p><code class="filename">build-resource-only-dll.gradle</code></p><pre class="programlisting">sources {
    rc {
        source {
            srcDirs <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/hello/rc"</span>
        }
        exportedHeaders {
            srcDirs <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/hello/headers"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>You are able to construct a resource-only library by providing Windows Resource sources with no other language sources, and configure the linker as appropriate:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="resourceOnlyDll"></a><p class="title"><b>Example&nbsp;587.&nbsp;Building a resource-only dll</b></p><div class="example-contents"><p><code class="filename">build-resource-only-dll.gradle</code></p><pre class="programlisting">model {
    components {
        helloRes(NativeLibrarySpec) {
            binaries.all {
                rcCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/v"</span>
                linker.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/noentry"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"/machine:x86"</span>
            }
            sources {
                rc {
                    source {
                        srcDirs <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/hello/rc"</span>
                    }
                    exportedHeaders {
                        srcDirs <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/hello/headers"</span>
                    }
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>The example above also demonstrates the mechanism of passing extra command-line arguments to the resource compiler. The <code class="literal">rcCompiler</code> extension is of type <a class="ulink" href="../dsl/org.gradle.nativeplatform.PreprocessingTool.html" target="_top"><code class="classname">PreprocessingTool</code></a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:library_dependencies" class="section-anchor" href="#sec:library_dependencies"></a>Library Dependencies</h2></div></div></div><p>Dependencies for native components are binary libraries that export header files. The header files are used during compilation, with the compiled binary dependency being used during linking and execution. Header files should be organized into subdirectories to prevent clashes of commonly named headers. For instance, if your <code class="literal">mylib</code> project has a <code class="literal">logging.h</code> header, it will make it less likely the wrong header is used if you include it as <code class="literal">"mylib/logging.h"</code> instead of <code class="literal">"logging.h"</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependencies_within_the_same_project" class="section-anchor" href="#sec:dependencies_within_the_same_project"></a>Dependencies within the same project</h3></div></div></div><p>A set of sources may depend on header files provided by another binary component within the same project. A common example is a native executable component that uses functions provided by a separate native library component.</p><p>Such a library dependency can be added to a source set associated with the <code class="literal">executable</code> component:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppSourceLibrary"></a><p class="title"><b>Example&nbsp;588.&nbsp;Providing a library dependency to the source set</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">sources {
    cpp {
        lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"hello"</span>
    }
}
</pre></div></div><br class="example-break"><p>Alternatively, a library dependency can be provided directly to the <code class="literal">NativeExecutableBinarySpec</code> for the <code class="literal">executable</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppBinaryLibrary"></a><p class="title"><b>Example&nbsp;589.&nbsp;Providing a library dependency to the binary</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        hello(NativeLibrarySpec) {
            sources {
                c {
                    source {
                        srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/source"</span>
                        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.c"</span>
                    }
                    exportedHeaders {
                        srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/include"</span>
                    }
                }
            }
        }
        main(NativeExecutableSpec) {
            sources {
                cpp {
                    source {
                        srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/source"</span>
                        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.cpp"</span>
                    }
                }
            }
            binaries.all {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Each executable binary produced uses the 'hello' static library binary</span>
                lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'hello'</span>, linkage: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'static'</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:project_dependencies" class="section-anchor" href="#sec:project_dependencies"></a>Project Dependencies</h3></div></div></div><p>For a component produced in a different Gradle project, the notation is similar.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cppProjectDependencies"></a><p class="title"><b>Example&nbsp;590.&nbsp;Declaring project dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":lib"</span>) {
    apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"cpp"</span>
    model {
        components {
            main(NativeLibrarySpec)
        }

        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// For any shared library binaries built with Visual C++,</span>
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// define the DLL_EXPORT macro</span>
        binaries {
            withType(SharedLibraryBinarySpec) {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in VisualCpp) {
                    cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"DLL_EXPORT"</span>
                }
            }
        }
    }
}

project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":exe"</span>) {
    apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"cpp"</span>

    model {
        components {
            main(NativeExecutableSpec) {
                sources {
                    cpp {
                        lib project: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">':lib'</span>, library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'main'</span>
                    }
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:preCompiledHeaders" class="section-anchor" href="#native_binaries:preCompiledHeaders"></a>Precompiled Headers</h2></div></div></div><p>Precompiled headers are a performance optimization that reduces the cost of compiling widely used headers multiple times. This feature <span class="emphasis"><em>precompiles</em></span> a header such that the compiled object file can be reused when compiling each source file rather than recompiling the header each time. This support is available for C, C++, Objective-C, and Objective-C++ builds.</p><p>To configure a precompiled header, first a header file needs to be defined that includes all of the headers that should be precompiled. It must be specified as the first included header in every source file where the precompiled header should be used. It is assumed that this header file, and any headers it contains, make use of header guards so that they can be included in an idempotent manner. If header guards are not used in a header file, it is possible the header could be compiled more than once and could potentially lead to a broken build.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="preCompiledHeaderFile"></a><p class="title"><b>Example&nbsp;591.&nbsp;Creating a precompiled header file</b></p><div class="example-contents"><p><code class="filename">src/hello/headers/pch.h</code></p><pre class="programlisting">#ifndef PCH_H
#define PCH_H
#include &lt;iostream&gt;
#include "hello.h"
#endif
</pre></div></div><br class="example-break"><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="preCompiledHeaderFile"></a><p class="title"><b>Example&nbsp;592.&nbsp;Including a precompiled header file in a source file</b></p><div class="example-contents"><p><code class="filename">src/hello/cpp/hello.cpp</code></p><pre class="programlisting">#include "pch.h"

void LIB_FUNC Greeter::hello () {
    std::cout &lt;&lt; "Hello world!" &lt;&lt; std::endl;
}
</pre></div></div><br class="example-break"><p>Precompiled headers are specified on a source set. Only one precompiled header file can be specified on a given source set and will be applied to all source files that declare it as the first include. If a source files does not include this header file as the first header, the file will be compiled in the normal manner (without making use of the precompiled header object file). The string provided should be the same as that which is used in the "#include" directive in the source files.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="preCompiledHeaderConfig"></a><p class="title"><b>Example&nbsp;593.&nbsp;Configuring a precompiled header</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        hello(NativeLibrarySpec) {
            sources {
                cpp {
                    preCompiledHeader <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"pch.h"</span>
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>A precompiled header must be included in the same way for all files that use it. Usually, this means the header file should exist in the source set "headers" directory or in a directory included on the compiler include path.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:variants" class="section-anchor" href="#native_binaries:variants"></a>Native Binary Variants</h2></div></div></div><p>For each executable or library defined, Gradle is able to build a number of different native binary variants. Examples of different variants include debug vs release binaries, 32-bit vs 64-bit binaries, and binaries produced with different custom preprocessor flags.</p><p>Binaries produced by Gradle can be differentiated on <a class="link" href="native_software.html#native_binaries:build_type">build type</a>, <a class="link" href="native_software.html#native_binaries:platform">platform</a>, and <a class="link" href="native_software.html#native_binaries:flavor">flavor</a>. For each of these 'variant dimensions', it is possible to specify a set of available values as well as target each component at one, some or all of these. For example, a plugin may define a range of support platforms, but you may choose to only target Windows-x86 for a particular component.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:build_type" class="section-anchor" href="#native_binaries:build_type"></a>Build types</h3></div></div></div><p>A <code class="literal">build type</code> determines various non-functional aspects of a binary, such as whether debug information is included, or what optimisation level the binary is compiled with. Typical build types are 'debug' and 'release', but a project is free to define any set of build types.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="buildTypes"></a><p class="title"><b>Example&nbsp;594.&nbsp;Defining build types</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    buildTypes {
        debug
        release
    }
}
</pre></div></div><br class="example-break"><p>If no build types are defined in a project, then a single, default build type called 'debug' is added.</p><p>For a build type, a Gradle project will typically define a set of compiler/linker flags per tool chain.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="buildTypeConfig"></a><p class="title"><b>Example&nbsp;595.&nbsp;Configuring debug binaries</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    binaries {
        all {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in Gcc &amp;&amp; buildType == buildTypes.debug) {
                cppCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-g"</span>
            }
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (toolChain in VisualCpp &amp;&amp; buildType == buildTypes.debug) {
                cppCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'/Zi'</span>
                cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'DEBUG'</span>
                linker.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'/DEBUG'</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><div class="note"><p>At this stage, it is completely up to the build script to configure the relevant compiler/linker flags for each build type. Future versions of Gradle will automatically include the appropriate debug flags for any 'debug' build type, and may be aware of various levels of optimisation as well.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:platform" class="section-anchor" href="#native_binaries:platform"></a>Platform</h3></div></div></div><p>An executable or library can be built to run on different operating systems and cpu architectures, with a variant being produced for each platform. Gradle defines each OS/architecture combination as a <a class="ulink" href="../dsl/org.gradle.nativeplatform.platform.NativePlatform.html" target="_top"><code class="classname">NativePlatform</code></a>, and a project may define any number of platforms. If no platforms are defined in a project, then a single, default platform 'current' is added.</p><div class="note"><p>Presently, a <code class="literal">Platform</code> consists of a defined operating system and architecture. As we continue to develop the native binary support in Gradle, the concept of Platform will be extended to include things like C-runtime version, Windows SDK, ABI, etc. Sophisticated builds may use the extensibility of Gradle to apply additional attributes to each platform, which can then be queried to specify particular includes, preprocessor macros or compiler arguments for a native binary.</p></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="platforms"></a><p class="title"><b>Example&nbsp;596.&nbsp;Defining platforms</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    platforms {
        x8<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span> {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
        }
        x6<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span> {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86_64"</span>
        }
        itanium {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"ia-64"</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>For a given variant, Gradle will attempt to find a <a class="ulink" href="../javadoc/org/gradle/nativeplatform/toolchain/NativeToolChain.html" target="_top"><code class="classname">NativeToolChain</code></a> that is able to build for the target platform. Available tool chains are searched in the order defined. See the <a class="link" href="native_software.html#native_binaries:tool_chain">tool chains</a> section below for more details.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:flavor" class="section-anchor" href="#native_binaries:flavor"></a>Flavor</h3></div></div></div><p>Each component can have a set of named <code class="literal">flavors</code>, and a separate binary variant can be produced for each flavor. While the <code class="literal">build type</code> and <code class="literal">target platform</code> variant dimensions have a defined meaning in Gradle, each project is free to define any number of flavors and apply meaning to them in any way.</p><p>An example of component flavors might differentiate between 'demo', 'paid' and 'enterprise' editions of the component, where the same set of sources is used to produce binaries with different functions.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="flavors"></a><p class="title"><b>Example&nbsp;597.&nbsp;Defining flavors</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    flavors {
        english
        french
    }
    components {
        hello(NativeLibrarySpec) {
            binaries.all {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (flavor == flavors.french) {
                    cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"FRENCH"</span>
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>In the example above, a library is defined with a 'english' and 'french' flavor. When compiling the 'french' variant, a separate macro is defined which leads to a different binary being produced.</p><p>If no flavor is defined for a component, then a single default flavor named 'default' is used.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:selecting_the_build_types_platforms_and_flavors_for_a_component" class="section-anchor" href="#sec:selecting_the_build_types_platforms_and_flavors_for_a_component"></a>Selecting the build types, platforms and flavors for a component</h3></div></div></div><p>For a default component, Gradle will attempt to create a native binary variant for each and every combination of <code class="literal">buildType</code> and <code class="literal">flavor</code> defined for the project. It is possible to override this on a per-component basis, by specifying the set of <code class="literal">targetBuildTypes</code> and/or <code class="literal">targetFlavors</code>. By default, Gradle will build for the default platform, see <a class="link" href="native_software.html#native_binaries:platform">above</a>, unless specified explicitly on a per-component basis by specifying a set of <code class="literal">targetPlatforms</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="targets"></a><p class="title"><b>Example&nbsp;598.&nbsp;Targeting a component at particular platforms</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    components {
        hello(NativeLibrarySpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x64"</span>
        }
        main(NativeExecutableSpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x64"</span>
            sources {
                cpp.lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'hello'</span>, linkage: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'static'</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Here you can see that the <a class="ulink" href="../dsl/org.gradle.nativeplatform.TargetedNativeComponent.html#org.gradle.nativeplatform.TargetedNativeComponent:targetPlatform(java.lang.String)" target="_top"><code class="classname">TargetedNativeComponent.targetPlatform(java.lang.String)</code></a> method is used to specify a platform that the <code class="literal">NativeExecutableSpec</code> named <code class="literal">main</code> should be built for.</p><p>A similar mechanism exists for selecting <a class="ulink" href="../dsl/org.gradle.nativeplatform.TargetedNativeComponent.html#org.gradle.nativeplatform.TargetedNativeComponent:targetBuildTypes(java.lang.String[])" target="_top"><code class="classname">TargetedNativeComponent.targetBuildTypes(java.lang.String[])</code></a> and <a class="ulink" href="../dsl/org.gradle.nativeplatform.TargetedNativeComponent.html#org.gradle.nativeplatform.TargetedNativeComponent:targetFlavors(java.lang.String[])" target="_top"><code class="classname">TargetedNativeComponent.targetFlavors(java.lang.String[])</code></a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:building_all_possible_variants" class="section-anchor" href="#sec:building_all_possible_variants"></a>Building all possible variants</h3></div></div></div><p>When a set of build types, target platforms, and flavors is defined for a component, a <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> model element is created for every possible combination of these. However, in many cases it is not possible to build a particular variant, perhaps because no tool chain is available to build for a particular platform.</p><p>If a binary variant cannot be built for any reason, then the <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> associated with that variant will not be <code class="literal">buildable</code>. It is possible to use this property to create a task to generate all possible variants on a particular machine.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="buildable"></a><p class="title"><b>Example&nbsp;599.&nbsp;Building all possible variants</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    tasks {
        buildAllExecutables(Task) {
            dependsOn $.binaries.findAll { it.buildable }
        }
    }
}
</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:tool_chain" class="section-anchor" href="#native_binaries:tool_chain"></a>Tool chains</h2></div></div></div><p>A single build may utilize different tool chains to build variants for different platforms. To this end, the core 'native-binary' plugins will attempt to locate and make available supported tool chains. However, the set of tool chains for a project may also be explicitly defined, allowing additional cross-compilers to be configured as well as allowing the install directories to be specified.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:defining_tool_chains" class="section-anchor" href="#sec:defining_tool_chains"></a>Defining tool chains</h3></div></div></div><p>The supported tool chain types are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.Gcc.html" target="_top"><code class="classname">Gcc</code></a></p></li><li class="listitem"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.Clang.html" target="_top"><code class="classname">Clang</code></a></p></li><li class="listitem"><p><a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.VisualCpp.html" target="_top"><code class="classname">VisualCpp</code></a></p></li></ul></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="toolChains"></a><p class="title"><b>Example&nbsp;600.&nbsp;Defining tool chains</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    toolChains {
        visualCpp(VisualCpp) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Specify the installDir if Visual Studio cannot be located</span>
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// installDir "C:/Apps/Microsoft Visual Studio 10.0"</span>
        }
        gcc(Gcc) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Uncomment to use a GCC install that is not in the PATH</span>
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// path "/usr/bin/gcc"</span>
        }
        clang(Clang)
    }
}
</pre></div></div><br class="example-break"><p>Each tool chain implementation allows for a certain degree of configuration (see the API documentation for more details).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:using_tool_chains" class="section-anchor" href="#sec:using_tool_chains"></a>Using tool chains</h3></div></div></div><p>It is not necessary or possible to specify the tool chain that should be used to build. For a given variant, Gradle will attempt to locate a <a class="ulink" href="../javadoc/org/gradle/nativeplatform/toolchain/NativeToolChain.html" target="_top"><code class="classname">NativeToolChain</code></a> that is able to build for the target platform. Available tool chains are searched in the order defined.</p><div class="note"><p>When a platform does not define an architecture or operating system, the default target of the tool chain is assumed. So if a platform does not define a value for <code class="literal">operatingSystem</code>, Gradle will find the first available tool chain that can build for the specified <code class="literal">architecture</code>.</p></div><p>The core Gradle tool chains are able to target the following architectures out of the box. In each case, the tool chain will target the current operating system. See the next section for information on cross-compiling for other operating systems.</p><div class="informaltable"><table border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th align="left" valign="top">Tool Chain</th><th align="left" valign="top">Architectures</th></tr></thead><tbody><tr><td align="left" valign="top"><p>GCC</p></td><td align="left" valign="top"><p>x86, x86_64</p></td></tr><tr><td align="left" valign="top"><p>Clang</p></td><td align="left" valign="top"><p>x86, x86_64</p></td></tr><tr><td align="left" valign="top"><p>Visual C++</p></td><td align="left" valign="top"><p>x86, x86_64, ia-64</p></td></tr></tbody></table></div><p>So for GCC running on linux, the supported target platforms are 'linux/x86' and 'linux/x86_64'. For GCC running on Windows via Cygwin, platforms 'windows/x86' and 'windows/x86_64' are supported. (The Cygwin POSIX runtime is not yet modelled as part of the platform, but will be in the future.)</p><p>If no target platforms are defined for a project, then all binaries are built to target a default platform named 'current'. This default platform does not specify any <code class="literal">architecture</code> or <code class="literal">operatingSystem</code> value, hence using the default values of the first available tool chain.</p><p>Gradle provides a <span class="emphasis"><em>hook</em></span> that allows the build author to control the exact set of arguments passed to a tool chain executable. This enables the build author to work around any limitations in Gradle, or assumptions that Gradle makes. The arguments hook should be seen as a 'last-resort' mechanism, with preference given to truly modelling the underlying domain.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="withArguments"></a><p class="title"><b>Example&nbsp;601.&nbsp;Reconfigure tool arguments</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    toolChains {
        visualCpp(VisualCpp) {
            eachPlatform {
                cppCompiler.withArguments { args -&gt;
                    args &lt;&lt; <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-DFRENCH"</span>
                }
            }
        }
        clang(Clang) {
            eachPlatform {
                cCompiler.withArguments { args -&gt;
                    Collections.replaceAll(args, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"CUSTOM"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-DFRENCH"</span>)
                }
                linker.withArguments { args -&gt;
                    args.remove <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"CUSTOM"</span>
                }
                staticLibArchiver.withArguments { args -&gt;
                    args.remove <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"CUSTOM"</span>
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:crosscompiling_with_gcc" class="section-anchor" href="#sec:crosscompiling_with_gcc"></a>Cross-compiling with GCC</h3></div></div></div><p>Cross-compiling is possible with the <a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.Gcc.html" target="_top"><code class="classname">Gcc</code></a> and <a class="ulink" href="../dsl/org.gradle.nativeplatform.toolchain.Clang.html" target="_top"><code class="classname">Clang</code></a> tool chains, by adding support for additional target platforms. This is done by specifying a target platform for a toolchain. For each target platform a custom configuration can be specified.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="targetPlatforms"></a><p class="title"><b>Example&nbsp;602.&nbsp;Defining target platforms</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    toolChains {
        gcc(Gcc) {
            target(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"arm"</span>){
                cppCompiler.withArguments { args -&gt;
                    args &lt;&lt; <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-m32"</span>
                }
                linker.withArguments { args -&gt;
                    args &lt;&lt; <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-m32"</span>
                }
            }
            target(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sparc"</span>)
        }
    }
    platforms {
        arm {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"arm"</span>
        }
        sparc {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sparc"</span>
        }
    }
    components {
        main(NativeExecutableSpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"arm"</span>
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sparc"</span>
        }
    }
}
</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:visual_studio" class="section-anchor" href="#native_binaries:visual_studio"></a>Visual Studio IDE integration</h2></div></div></div><p>Gradle has the ability to generate Visual Studio project and solution files for the native components defined in your build. This ability is added by the <code class="literal">visual-studio</code> plugin. For a multi-project build, all projects with native components should have this plugin applied.</p><p>When the <code class="literal">visual-studio</code> plugin is applied, a task name <code class="literal">${component.name}VisualStudio</code> is created for each defined component. This task will generate a Visual Studio Solution file for the named component. This solution will include a Visual Studio Project for that component, as well as linking to project files for each depended-on binary.</p><p>The content of the generated visual studio files can be modified via API hooks, provided by the <code class="literal">visualStudio</code> extension. Take a look at the 'visual-studio' sample, or see <a class="ulink" href="../dsl/org.gradle.ide.visualstudio.VisualStudioExtension.html#org.gradle.ide.visualstudio.VisualStudioExtension:projects" target="_top"><code class="classname">VisualStudioExtension.getProjects()</code></a> and <a class="ulink" href="../dsl/org.gradle.ide.visualstudio.VisualStudioExtension.html#org.gradle.ide.visualstudio.VisualStudioExtension:solutions" target="_top"><code class="classname">VisualStudioExtension.getSolutions()</code></a> in the API documentation for more details.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:cunit" class="section-anchor" href="#native_binaries:cunit"></a>CUnit support</h2></div></div></div><p>The Gradle <code class="literal">cunit</code> plugin provides support for compiling and executing CUnit tests in your native-binary project. For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a> and <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a> defined in your project, Gradle will create a matching <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteSpec.html" target="_top"><code class="classname">CUnitTestSuiteSpec</code></a> component, named <code class="literal">${component.name}Test</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:cunit_sources" class="section-anchor" href="#sec:cunit_sources"></a>CUnit sources</h3></div></div></div><p>Gradle will create a <a class="ulink" href="../dsl/org.gradle.language.c.CSourceSet.html" target="_top"><code class="classname">CSourceSet</code></a> named 'cunit' for each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteSpec.html" target="_top"><code class="classname">CUnitTestSuiteSpec</code></a> component in the project. This source set should contain the cunit test files for the component under test. Source files can be located in the conventional location (<code class="literal">src/${component.name}Test/cunit</code>) or can be configured like any other source set.</p><p>Gradle initialises the CUnit test registry and executes the tests, utilising some generated CUnit launcher sources. Gradle will expect and call a function with the signature <code class="literal">void gradle_cunit_register()</code> that you can use to configure the actual CUnit suites and tests to execute.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cunitSources"></a><p class="title"><b>Example&nbsp;603.&nbsp;Registering CUnit tests</b></p><div class="example-contents"><p><code class="filename">suite_operators.c</code></p><pre class="programlisting">#include &lt;CUnit/Basic.h&gt;
#include "gradle_cunit_register.h"
#include "test_operators.h"

int suite_init(void) {
    return 0;
}

int suite_clean(void) {
    return 0;
}

void gradle_cunit_register() {
    CU_pSuite pSuiteMath = CU_add_suite("operator tests", suite_init, suite_clean);
    CU_add_test(pSuiteMath, "test_plus", test_plus);
    CU_add_test(pSuiteMath, "test_minus", test_minus);
}
</pre></div></div><br class="example-break"><div class="note"><p>Due to this mechanism, your CUnit sources may not contain a <code class="literal">main</code> method since this will clash with the method provided by Gradle.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:building_cunit_executables" class="section-anchor" href="#sec:building_cunit_executables"></a>Building CUnit executables</h3></div></div></div><p>A <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteSpec.html" target="_top"><code class="classname">CUnitTestSuiteSpec</code></a> component has an associated <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a> or <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a> component. For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> configured for the main component, a matching <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteBinarySpec.html" target="_top"><code class="classname">CUnitTestSuiteBinarySpec</code></a> will be configured on the test suite component. These test suite binaries can be configured in a similar way to any other binary instance:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="cunitSources"></a><p class="title"><b>Example&nbsp;604.&nbsp;Configuring CUnit tests</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    binaries {
        withType(CUnitTestSuiteBinarySpec) {
            lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"cunit"</span>, linkage: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"static"</span>

            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (flavor == flavors.failing) {
                cCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"PLUS_BROKEN"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><div class="note"><p>Both the CUnit sources provided by your project and the generated launcher require the core CUnit headers and libraries. Presently, this library dependency must be provided by your project for each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteBinarySpec.html" target="_top"><code class="classname">CUnitTestSuiteBinarySpec</code></a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:running_cunit_tests" class="section-anchor" href="#sec:running_cunit_tests"></a>Running CUnit tests</h3></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.cunit.CUnitTestSuiteBinarySpec.html" target="_top"><code class="classname">CUnitTestSuiteBinarySpec</code></a>, Gradle will create a task to execute this binary, which will run all of the registered CUnit tests. Test results will be found in the <code class="literal"><span class="emphasis"><em>${build.dir}</em></span>/test-results</code> directory.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="completeCUnitExample"></a><p class="title"><b>Example&nbsp;605.&nbsp;Running CUnit tests</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"c"</span>
apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'cunit-test-suite'</span>

model {
    flavors {
        passing
        failing
    }
    platforms {
        x8<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span> {
            architecture <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
        }
    }
    repositories {
        libs(PrebuiltLibraries) {
            cunit {
                headers.srcDir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"libs/cunit/2.1-2/include"</span>
                binaries.withType(StaticLibraryBinary) {
                    staticLibraryFile =
                        file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"libs/cunit/2.1-2/lib/"</span> +
                             findCUnitLibForPlatform(targetPlatform))
                }
            }
        }
    }
    components {
        operators(NativeLibrarySpec) {
            targetPlatform <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"x86"</span>
        }
    }
    testSuites {
        operatorsTest(CUnitTestSuiteSpec) {
            testing $.components.operators
        }
    }
}
model {
    binaries {
        withType(CUnitTestSuiteBinarySpec) {
            lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"cunit"</span>, linkage: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"static"</span>

            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (flavor == flavors.failing) {
                cCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"PLUS_BROKEN"</span>
            }
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/native-binaries/cunit</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div><p>Output of <strong class="userinput"><code>gradle -q runOperatorsTestFailingCUnitExe</code></strong></p><pre class="screen">&gt; gradle -q runOperatorsTestFailingCUnitExe

There were test failures:
  1. /home/user/gradle/samples/native-binaries/cunit/src/operatorsTest/c/test_plus.c:6  - plus(0, -2) == -2
  2. /home/user/gradle/samples/native-binaries/cunit/src/operatorsTest/c/test_plus.c:7  - plus(2, 2) == 4

</pre></div></div><br class="example-break"><div class="note"><p>The current support for CUnit is quite rudimentary. Plans for future integration include:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Allow tests to be declared with Javadoc-style annotations.</p></li><li class="listitem"><p>Improved HTML reporting, similar to that available for JUnit.</p></li><li class="listitem"><p>Real-time feedback for test execution.</p></li><li class="listitem"><p>Support for additional test frameworks.</p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="native_binaries:google_test" class="section-anchor" href="#native_binaries:google_test"></a>GoogleTest support</h2></div></div></div><p>The Gradle <code class="literal">google-test</code> plugin provides support for compiling and executing GoogleTest tests in your native-binary project. For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a> and <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a> defined in your project, Gradle will create a matching <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteSpec.html" target="_top"><code class="classname">GoogleTestTestSuiteSpec</code></a> component, named <code class="literal">${component.name}Test</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:googletest_sources" class="section-anchor" href="#sec:googletest_sources"></a>GoogleTest sources</h3></div></div></div><p>Gradle will create a <a class="ulink" href="../dsl/org.gradle.language.cpp.CppSourceSet.html" target="_top"><code class="classname">CppSourceSet</code></a> named 'cpp' for each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteSpec.html" target="_top"><code class="classname">GoogleTestTestSuiteSpec</code></a> component in the project. This source set should contain the GoogleTest test files for the component under test. Source files can be located in the conventional location (<code class="literal">src/${component.name}Test/cpp</code>) or can be configured like any other source set.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:building_googletest_executables" class="section-anchor" href="#sec:building_googletest_executables"></a>Building GoogleTest executables</h3></div></div></div><p>A <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteSpec.html" target="_top"><code class="classname">GoogleTestTestSuiteSpec</code></a> component has an associated <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeExecutableSpec.html" target="_top"><code class="classname">NativeExecutableSpec</code></a> or <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeLibrarySpec.html" target="_top"><code class="classname">NativeLibrarySpec</code></a> component. For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.NativeBinarySpec.html" target="_top"><code class="classname">NativeBinarySpec</code></a> configured for the main component, a matching <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteBinarySpec.html" target="_top"><code class="classname">GoogleTestTestSuiteBinarySpec</code></a> will be configured on the test suite component. These test suite binaries can be configured in a similar way to any other binary instance:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="googleTestSources"></a><p class="title"><b>Example&nbsp;606.&nbsp;Registering GoogleTest tests</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">model {
    binaries {
        withType(GoogleTestTestSuiteBinarySpec) {
            lib library: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"googleTest"</span>, linkage: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"static"</span>

            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (flavor == flavors.failing) {
                cppCompiler.define <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"PLUS_BROKEN"</span>
            }

            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (targetPlatform.operatingSystem.linux) {
                cppCompiler.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'-pthread'</span>
                linker.args <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'-pthread'</span>
            }
        }
    }
}
</pre><div class="exampleLocation"><p><span class="emphasis"><em>Note:</em></span> The code for this example can be found at <code class="filename">samples/native-binaries/google-test</code> in the &lsquo;-all&rsquo; distribution of Gradle.</p></div></div></div><br class="example-break"><div class="note"><p>The GoogleTest sources provided by your project require the core GoogleTest headers and libraries. Presently, this library dependency must be provided by your project for each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteBinarySpec.html" target="_top"><code class="classname">GoogleTestTestSuiteBinarySpec</code></a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:running_googletest_tests" class="section-anchor" href="#sec:running_googletest_tests"></a>Running GoogleTest tests</h3></div></div></div><p>For each <a class="ulink" href="../dsl/org.gradle.nativeplatform.test.googletest.GoogleTestTestSuiteBinarySpec.html" target="_top"><code class="classname">GoogleTestTestSuiteBinarySpec</code></a>, Gradle will create a task to execute this binary, which will run all of the registered GoogleTest tests. Test results will be found in the <code class="literal"><span class="emphasis"><em>${build.dir}</em></span>/test-results</code> directory.</p><div class="note"><p>The current support for GoogleTest is quite rudimentary. Plans for future integration include:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Improved HTML reporting, similar to that available for JUnit.</p></li><li class="listitem"><p>Real-time feedback for test execution.</p></li><li class="listitem"><p>Support for additional test frameworks.</p></li></ul></div></div></div></div></div><aside class="secondary-navigation"></aside></main><footer xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPFooter" itemscope="itemscope" class="site-layout__footer site-footer"><nav itemtype="https://schema.org/SiteNavigationElement" class="site-footer__navigation"><section class="site-footer__links"><div class="site-footer__link-group"><header><strong>Docs</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="/userguide/userguide.html">User Manual</a></li><li itemprop="name"><a itemprop="url" href="/dsl/">DSL Reference</a></li><li itemprop="name"><a itemprop="url" href="/release-notes.html">Release Notes</a></li><li itemprop="name"><a itemprop="url" href="/javadoc/">Javadoc</a></li></ul></div><div class="site-footer__link-group"><header><strong>News</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://blog.gradle.org/">Blog</a></li><li itemprop="name"><a itemprop="url" href="https://newsletter.gradle.com/">Newsletter</a></li><li itemprop="name"><a itemprop="url" href="https://twitter.com/gradle">Twitter</a></li></ul></div><div class="site-footer__link-group"><header><strong>Products</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-scans">Build Scans</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-cache">Build Cache</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/enterprise/resources">Enterprise Docs</a></li></ul></div><div class="site-footer__link-group"><header><strong>Get Help</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://discuss.gradle.org/c/help-discuss">Forums</a></li><li itemprop="name"><a itemprop="url" href="https://github.com/gradle/">GitHub</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/training/">Training</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/services/">Services</a></li></ul></div></section><section class="site-footer__subscribe-newsletter"><p>Subscribe for important Gradle updates and news</p><form method="post" action="https://go.pardot.com/l/68052/2017-12-01/b8dh7j" class="newsletter-form" id="newsletter-form"><input required="" maxlength="255" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" placeholder="name@email.com" type="email" name="email" class="email" id="email"><button type="submit" class="submit" id="submit">Subscribe</button></form></section></nav><div class="site-footer-secondary"><div class="site-footer-secondary__contents"><div class="site-footer__copy">&copy; <a href="https://gradle.com">Gradle Inc.</a><time>2018</time> All rights reserved.</div><div class="site-footer__logo"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" class="logo-icon" viewBox="0 0 40 40" height="40" width="40"><g style="fill:none;opacity:0.7"><g fill="#11272E"><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/></g></g></svg></a></div><div class="site-footer-secondary__links"><a href="https://gradle.com/careers">Careers</a> |
                        <a href="https://gradle.org/privacy">Privacy</a> |
                        <a href="https://gradle.org/terms">Terms of Service</a> |
                        <a href="https://gradle.org/contact/">Contact</a></div></div></div></footer><script type="text/javascript">
                    // Polyfill Element.matches()
                    if (!Element.prototype.matches) {
                        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
                    }
                    // Polyfill Element.closest()
                    if (!Element.prototype.closest) {
                        Element.prototype.closest = function(s) {
                            var el = this;
                            if (!document.documentElement.contains(el)) return null;
                            do {
                                if (typeof el.matches === "function" && el.matches(s)) return el;
                                el = el.parentElement || el.parentNode;
                            } while (el !== null);
                            return null;
                        };
                    }
                    [].forEach.call(document.querySelectorAll(".docs-navigation a[href$='"+ window.location.pathname +"']"), function(link) {
                        // Add "active" to all links same as current URL
                        link.classList.add("active");

                        // Expand all parent navigation
                        var parentListEl = link.closest("li");
                        while (parentListEl !== null) {
                            var dropDownEl = parentListEl.querySelector(".nav-dropdown");
                            if (dropDownEl !== null) {
                                dropDownEl.classList.add("expanded");
                            }
                            parentListEl = parentListEl.parentNode.closest("li");
                        }
                    });

                    // Expand/contract multi-level side navigation
                    [].forEach.call(document.querySelectorAll(".docs-navigation .nav-dropdown"), function registerSideNavActions(collapsibleElement) {
                        collapsibleElement.addEventListener("click", function toggleExpandedSideNav(evt) {
                            evt.preventDefault();
                            evt.target.classList.toggle("expanded");
                            evt.target.setAttribute("aria-expanded", evt.target.classList.contains("expanded").toString());
                            return false;
                        }, false);
                    });
                </script></body></html>